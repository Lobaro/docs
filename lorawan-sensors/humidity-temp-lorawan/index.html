


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Online documentation of the Lobaro GmbH, Industrial IoT Solutions. Manuals for our IoT Devices.">
      
      
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.2.0">
    
    
      
        <title>Manual - Lobaro Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.18ac144a.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.616af814.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CCousine&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Cousine",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/lobarodoc.css">
    
      <link rel="stylesheet" href="../../css/simple-lightbox.min.css">
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-69919312-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="indigo">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#humidity-temperature-lorawan-sensor" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Lobaro Documentation" class="md-header-nav__button md-logo" aria-label="Lobaro Documentation">
      
  <img src="../../img/lobaro-rings-circle.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Lobaro Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Manual
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lobaro Documentation" class="md-nav__button md-logo" aria-label="Lobaro Documentation">
      
  <img src="../../img/lobaro-rings-circle.svg" alt="logo">

    </a>
    Lobaro Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Documentation Start" class="md-nav__link">
      Documentation Start
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      LoRaWAN Sensors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="LoRaWAN Sensors" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        LoRaWAN Sensors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      wMBUS Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="wMBUS Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        wMBUS Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Modbus Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Modbus Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Modbus Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/versions.html" title="Versions" class="md-nav__link">
      Versions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      EDL21 Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="EDL21 Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        EDL21 Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../edl21-opto-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../edl21-opto-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      1-Wire Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="1-Wire Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        1-Wire Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      GPS Tracker
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="GPS Tracker" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        GPS Tracker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gps-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gps-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      Usonic Distance Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Usonic Distance Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Usonic Distance Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7" checked>
    
    <label class="md-nav__link" for="nav-2-7">
      Temp. + rH. Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Temp. + rH. Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Temp. + rH. Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Manual
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="index.html" title="Manual" class="md-nav__link md-nav__link--active">
      Manual
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-device" class="md-nav__link">
    The Device
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-the-humidity-sensor" class="md-nav__link">
    Operating the Humidity Sensor
  </a>
  
    <nav class="md-nav" aria-label="Operating the Humidity Sensor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batteries" class="md-nav__link">
    Batteries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-cycle" class="md-nav__link">
    Work Cycle
  </a>
  
    <nav class="md-nav" aria-label="Work Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-phase" class="md-nav__link">
    Initial Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-join-phase" class="md-nav__link">
    LoRaWAN Join Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-collection-phase" class="md-nav__link">
    Data Collection Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-phase" class="md-nav__link">
    Data Transfer Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sleep-phase" class="md-nav__link">
    Sleep Phase
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-lobaro-maintenance-tool" class="md-nav__link">
    The Lobaro Maintenance Tool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-the-usb-config-adapter" class="md-nav__link">
    Connecting the USB config adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-parameters" class="md-nav__link">
    System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-parameters" class="md-nav__link">
    LoRaWAN Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor-configuration-parameters" class="md-nav__link">
    Sensor configuration parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-expressions" class="md-nav__link">
    Cron expressions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-and-battery-life" class="md-nav__link">
    Configuration and battery life
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lorawan-data-upload-formats" class="md-nav__link">
    LoRaWAN Data Upload Formats
  </a>
  
    <nav class="md-nav" aria-label="LoRaWAN Data Upload Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#status-packet" class="md-nav__link">
    Status Packet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-packet" class="md-nav__link">
    Data Packet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensor-specification" class="md-nav__link">
    Sensor Specification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-measurement-purpose" class="md-nav__link">
    Target Measurement / Purpose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdf-documentation" class="md-nav__link">
    PDF Documentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    Parser
  </a>
  
    <nav class="md-nav" aria-label="Parser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-things-network-javascript" class="md-nav__link">
    The Things Network (JavaScript)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-8" type="checkbox" id="nav-2-8">
    
    <label class="md-nav__link" for="nav-2-8">
      Pressure Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Pressure Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Pressure Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-9" type="checkbox" id="nav-2-9">
    
    <label class="md-nav__link" for="nav-2-9">
      Environment Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Environment Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Environment Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../environment-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../environment-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-10" type="checkbox" id="nav-2-10">
    
    <label class="md-nav__link" for="nav-2-10">
      LoRaWAN Modbus Gateway
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="LoRaWAN Modbus Gateway" data-md-level="2">
      <label class="md-nav__title" for="nav-2-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        LoRaWAN Modbus Gateway
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lorawan-modbus-gateway/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      NB-IoT / LTE-M Sensors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="NB-IoT / LTE-M Sensors" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        NB-IoT / LTE-M Sensors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      wMBus Gateway
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="wMBus Gateway" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        wMBus Gateway
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../nbiot-sensors/wmbus-nbiot/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nbiot-sensors/wmbus-nbiot/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Background Articles
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Background Articles" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Background Articles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware.html" title="Hardware Variations" class="md-nav__link">
      Hardware Variations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/cron-expressions.html" title="CRON Expressions" class="md-nav__link">
      CRON Expressions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/lorawan.html" title="LoRaWAN" class="md-nav__link">
      LoRaWAN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/obis-codes.html" title="OBIS Codes" class="md-nav__link">
      OBIS Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/weee-disposal.html" title="WEEE Disposal" class="md-nav__link">
      WEEE Disposal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Lobaro Tools
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Lobaro Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Lobaro Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/lobaro-tool.html" title="Lobaro Maintenance Tool" class="md-nav__link">
      Lobaro Maintenance Tool
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/usb-config-adapter.html" title="USB Config Adapter" class="md-nav__link">
      USB Config Adapter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Lobaro IoT Platform
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Lobaro IoT Platform" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Lobaro IoT Platform
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/integrations.html" title="Integrations" class="md-nav__link">
      Integrations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/parser.html" title="Parser" class="md-nav__link">
      Parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/table-config.html" title="Table Config" class="md-nav__link">
      Table Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      Changelog
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Changelog" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Changelog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/changelog-frontend.html" title="Frontend" class="md-nav__link">
      Frontend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/changelog-backend.html" title="Backend" class="md-nav__link">
      Backend
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro-shop.com/" title="Lobaro Shop" class="md-nav__link">
      Lobaro Shop
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro.com/contact/" title="Contact / Impressum" class="md-nav__link">
      Contact / Impressum
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-device" class="md-nav__link">
    The Device
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-the-humidity-sensor" class="md-nav__link">
    Operating the Humidity Sensor
  </a>
  
    <nav class="md-nav" aria-label="Operating the Humidity Sensor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batteries" class="md-nav__link">
    Batteries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-cycle" class="md-nav__link">
    Work Cycle
  </a>
  
    <nav class="md-nav" aria-label="Work Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-phase" class="md-nav__link">
    Initial Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-join-phase" class="md-nav__link">
    LoRaWAN Join Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-collection-phase" class="md-nav__link">
    Data Collection Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-phase" class="md-nav__link">
    Data Transfer Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sleep-phase" class="md-nav__link">
    Sleep Phase
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-lobaro-maintenance-tool" class="md-nav__link">
    The Lobaro Maintenance Tool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-the-usb-config-adapter" class="md-nav__link">
    Connecting the USB config adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-parameters" class="md-nav__link">
    System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-parameters" class="md-nav__link">
    LoRaWAN Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor-configuration-parameters" class="md-nav__link">
    Sensor configuration parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-expressions" class="md-nav__link">
    Cron expressions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-and-battery-life" class="md-nav__link">
    Configuration and battery life
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lorawan-data-upload-formats" class="md-nav__link">
    LoRaWAN Data Upload Formats
  </a>
  
    <nav class="md-nav" aria-label="LoRaWAN Data Upload Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#status-packet" class="md-nav__link">
    Status Packet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-packet" class="md-nav__link">
    Data Packet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensor-specification" class="md-nav__link">
    Sensor Specification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-measurement-purpose" class="md-nav__link">
    Target Measurement / Purpose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdf-documentation" class="md-nav__link">
    PDF Documentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    Parser
  </a>
  
    <nav class="md-nav" aria-label="Parser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-things-network-javascript" class="md-nav__link">
    The Things Network (JavaScript)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/lobaro/docs/edit/master/docs/lorawan-sensors/humidity-temp-lorawan/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="humidity-temperature-lorawan-sensor">Humidity &amp; Temperature LoRaWAN Sensor</h1>
<h2 id="overview">Overview</h2>
<p><code>Order number: 8000004</code> <br></p>
<p><img alt="Humidity &amp; Temperature LoRaWAN Sensor" src="files/humiditysensor11.png" style="height:300px; display: block; margin: 0 auto;" /></p>
<p>The Lobaro LoRaWAN Humidity Sensor AM2305-LoRaWAN is a battery powered radio transmitting sensor device that takes measurements at configurable intervals. Because of its low
power consumption it can operate for multiple years with standard AA batteries. The LoRa
radio technology allows it to take measurements in places that are hard to reach, and in its
water prove casing it can be installed outdoors.<br />
The device uses a AM2305 digital relative humidity and temperature sensor probe (also known
as RHT05 or DHT44). It is powered by the base device and communicates via a one-wire
connection.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please read the manual carefully before operating the device. A safe operation of the
device is only possible if you follow the guides provided in this manual. Using the device
differently than intended by Lobaro my cause damage to people, the environment, or
the device.</p>
</div>
<h2 id="the-device">The Device</h2>
<p><img alt="Humidity &amp; Temperature LoRaWAN Sensor" src="files/lorawanhumiditysensor.png" style="height:300px; display: block; margin: 0 auto;" /></p>
<h2 id="operating-the-humidity-sensor">Operating the Humidity Sensor</h2>
<p>The RHT05 sensor probe must be attached to the device on the external socket. Insert two
1.5V AA batteries into the slots. When the device starts, its LED flashes once. If it does
not start, check that your batteries are still good and inserted the correct way. You can refer
to the picture above to check that everything is connected as it should be.<br />
When the device is set up correctly and running, put the lid on the base and fasten it from
the back using the supplied screws. Watch out that the cables are save inside the box and
do not get stuck in the casing, or you might damage the cables and allow water to enter the
casing. This can cause damage to the device!<br />
Always close the lid so that the socket for the probe is on the opposing side of the antenna
(picture above, sensor probe on the left, antenna on the right). This way there will be
less interference on the antenna and you will get the best connection possible.</p>
<h3 id="batteries">Batteries</h3>
<p>The LoRaWAN Humidity Sensor default power supply consists of two series connected off-
the-shelf 1.5V 'AA' sized batteries. Be sure to get the polarity right, see the '+'-Symbol on
the board. In general only AA cells of the types Alkali-Manganese (1.5V, LR6) and LithiumIron-Sulphide (1.5V, FR6) are allowed to be inserted in the device. Lobaro recommends the
use of FR6 batteries like the Energizer Ultimate Lithium over LR6 types because of the higher
capacity and better discharge properties.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Other Batteries or accumulators with a nominal voltage of more than 1.5V must not inserted 
into the device under any circumstances.<br />
In particular, lithium based cells with a nominal voltage of 3.6V or 3.7V must not be used 
on the AA battery slots!</p>
</div>
<p>On request, we can supply custom product variants with special housings powered by even
bigger batteries. For example a 3.6V C sized mono cell typically has a capacity of 9Ah with
leads to a 3x increased battery life compared to the standard AA-cells. With D sized cells of
typically 19Ah capacity this value can be doubled once again (6x). 
Options with permanent external power supply (230V, 9-24V, 5V USB) are also available on request.</p>
<h3 id="installation">Installation</h3>
<p>The device must be fixed on a flat surface using the lateral mounting holes of the case.
Alternatively we offer as accessory a mounting clip for a standard 35mm DIN rail. The device can then easily snapped
on a such rails. It can therefore be added to a variety of racks alongside other devices</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Under any circumstances the device must not be mounted higher than 2 meters above ground 
to avoid any risks in case of falling down!</p>
</div>
<p>For optimal RF performance (e.g. LoRa range) any metal obstacles near the internal antenna
should be avoided. In this case 'near' is defined as keep-out distance of about 3-5 centimeters
around the antenna. The internal helix antenna can be identified by the winding pcb traces
near the white printed encircled 'connectivity' symbol. In any case a device mounting directly
on top of a metal surface is not advisable since it will degrade the possible RF range. Stone
walls, wood or plastic standoffs are perfectly ok.<br />
In case of challenging installation locations (e.g. in basements) or unavoidable long distances
to the next LoRaWAN gateway, Lobaro offers on request custom product variant equipped
with a 'SMA' connector to support a external antenna connection.</p>
<h2 id="work-cycle">Work Cycle</h2>
<div class="mermaid">graph LR;
    init(Init)--&gt;join(LoRaWAN Join);
    join--&gt;read(Data Collection);
    read--&gt;send(Data Transfer);
    send--&gt;sleep("Sleep");
    sleep--&gt;|Cron expression| read;</div>

<h3 id="initial-phase">Initial Phase</h3>
<p>This is the phase that is executed after the device is started of restarted. The LED flashes
once and the configuration is evaluated. If successful, the LoRaWAN Join phase is executed
next.</p>
<h3 id="lorawan-join-phase">LoRaWAN Join Phase</h3>
<p>If the Device is configured to use over the air activation (OTAA), the OTAA Join is performed
at this point. The device will repeatedly try to join its LoRaWAN network until the process
is successful. It then enters the Data Collection Phase.<br />
If the Device is configured to use ABP instead of OTAA, this phase is left immediately and
the Data Collection Phase is entered.</p>
<h3 id="data-collection-phase">Data Collection Phase</h3>
<p>During the Data Collection Phase is the device activates the sensor probe and reads measured
humidity and temperature. There will be up to three attempts to get a correct reading. The
communication contains a checksum value to detect data corruption between the probe and
the main device. After data collection, the probe is deactivated again to save power. The
device then enters the Data Transfer Phase.</p>
<h3 id="data-transfer-phase">Data Transfer Phase</h3>
<p>During the Data Transfer Phase the Bridge uploads the sensor values to the LoRaWAN
network. The message contains the information if the measurement was successful.
In addition to the register data, the Bridge sends a status packet once a day during this
phase. The status packet will always be transmitted prior to any data packets.</p>
<h3 id="sleep-phase">Sleep Phase</h3>
<p>After transferring all data packets the device enters the Sleep Phase. During this it is completely inactive to avoid wasting power. It remains sleeping until the cron expression given in
the configuration triggers. When that happens, it enters the Data Collection Phase again</p>
<h2 id="configuration">Configuration</h2>
<h3 id="the-lobaro-maintenance-tool">The Lobaro Maintenance Tool</h3>
<p><img alt="maintenancetool" src="files/maintenancetool.png" style="width:60%; display: block; margin: 0 auto;" /></p>
<p>The initial device configuration can be done very comfortably from your PC via the serial
configuration interface. Beside the needed Lobaro USB to UART adapter the <a href="../../tools/lobaro-tool.html" target="_blank">Lobaro Maintenance Tool</a> needs to be installed. This tool is freely available for various operating systems
including Windows, Linux, Mac and Linux-ARM (e.g. Raspberry-PI) on and works with all
Lobaro sensors.<br />
Technically this software opens a webserver on port 8585 that runs in a background console
window. The actual user interface can be accessed normally using a standard web browser
at address <a href="http://localhost:8585">http://localhost:8585</a>. Normally your default browser should be
opened with this URL automatically after tool startup . Even remote configuration and logobservation
over the Internet is possible, e.g. having a Raspberry PI via USB connected to
the Lobaro device and accessing the maintenance tool from a remote machines browser over
the Internet.<br />
Additionally to the device setup the tool can also be used for firmware updates ('Firmware
Tab') , watching real-time device diagnostic output ('Logs Tab') and initiating device restarts.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Please note that the device might be restarted each time the configuration has been changed!</p>
</div>
<h3 id="connecting-the-usb-config-adapter">Connecting the USB config adapter</h3>
<p>For configuration and Firmware updates we provide a special serial-USB adapter that can be
connected as shown in the picture underneath. The corresponding connector on the PCB is marked with
the word 'Config'.<br />
The USB-adapter will add a virtual serial 'COM' Port to your system. Your operating system
needs the <a href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers" target="_blank">CP210x USB to UART bridge</a> driver installed. A download link is provided next
to the 'Connect' button when you start the Maintenance Tool.<br />
While the config adapter is connected, the device will be powered from the USB port with
a regulated voltage of 3.3V. It is not necessary - although it would be no problem - having
batteries inserted or a different supply connected while using the config adapter. All
configuration parameters will be kept non-volatile regardless of the power supply.</p>
<p><img alt="lorawanhumiditysensor" src="files/config.png" style="width:50%; display: block; margin: 0 auto;" /></p>
<h3 id="system-parameters">System Parameters</h3>
<p>After being successfully connected to the hardware using the Lobaro Maintenance Tool you
can press 'Reload Config' in the 'Configuration' tab to read the current configuration from the
device. For every parameter a default value is stored non volatile inside the hardware to which
you can revert using the 'Restore default' button in case anything got miss configured.<br />
All LoRaWAN &amp; other firmware parameters are explained in the following.</p>
<h3 id="lorawan-parameters">LoRaWAN Parameters</h3>
<p>The connection to the LoRaWAN network is defined by multiple configuration parameters.
This need to be set according to your LoRaWAN network and the way your device is 
supposed to be attached to it, or the device will not be able to send any data.</p>
<p>There are two different methods to attach a device to a LoRaWAN network: 
Over-the-air-activation (OTAA) and Activation-by-personalisation (ABP). 
Depending on which method you are using you will have to set different values.</p>
<p>Several values are a number of bytes, that need to be entered as hexstrings (without 
<code>0x</code>-prefix). So e.g. the DevEUI is a value of 8 bytes encoded in hex will be 
16 hexdigits long. A sample value would be <code>0123456789abcdef</code>.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>used</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OTAA</code></td>
<td>both</td>
<td>bool</td>
<td><code>true</code> &equiv; use OTAA, <code>false</code> &equiv; use ABP</td>
</tr>
<tr>
<td><code>DevEUI</code></td>
<td>OTAA</td>
<td>hexbyte[8]</td>
<td>the 8 byte DevEUI identifies the hardware on the join operation. The default value is a world wide unique value predefined in the hardware. Should not be changed unless required by the network provider.</td>
</tr>
<tr>
<td><code>AppEUI</code></td>
<td>OTAA</td>
<td>hexbyte[8]</td>
<td>ID defining the application used in the LoRaWAN network.</td>
</tr>
<tr>
<td><code>AppKey</code></td>
<td>OTAA</td>
<td>hexbyte[16]</td>
<td>Key used to encrypt communication with the LoRaWAN network.</td>
</tr>
<tr>
<td><code>AppSKey</code></td>
<td>ABP</td>
<td>hexbyte[16]</td>
<td>Application Session Key to be synced with the LoRaWAN network.</td>
</tr>
<tr>
<td><code>NetSKey</code></td>
<td>ABP</td>
<td>hexbyte[16]</td>
<td>Network Session Key to be synced with the LoRaWAN network.</td>
</tr>
<tr>
<td><code>DevAdr</code></td>
<td>ABP</td>
<td>hexbyte[4]</td>
<td>Device Address used to identify device in the LoRaWAN network.</td>
</tr>
<tr>
<td><code>SF</code></td>
<td>both</td>
<td>int</td>
<td>Initial LoRa spreading factor used for transmissions. Valid range is 7-12. The actual spreading factor used by change during operation if ADR is used.</td>
</tr>
<tr>
<td><code>ADR</code></td>
<td>both</td>
<td>bool</td>
<td>Should adaptive data rate be used? <code>true</code> &equiv; use ADR, <code>false</code> &equiv; don't</td>
</tr>
</tbody>
</table>
<h3 id="sensor-configuration-parameters">Sensor configuration parameters</h3>
<p>The only parameter outside of the LoRaWAN-configuration is a Cron expression used to
control the frequency of how often the device takes measurements.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>MeasureCron</td>
<td>string</td>
<td>Expression defining how often the device executes a measurement. This parameter is set using a cron expression. Please refer to chapter Cron expressions for an introduction.</td>
</tr>
</tbody>
</table>
<h3 id="cron-expressions">Cron expressions</h3>
<p>Cron expressions are used to define specific points in time and regular repetitions of them.
The schedule for data collecting phases is defined using the <a href="../../background/cron-expressions.html" target="_blank">CRON</a> format which is very
powerful format to define repeatedly occurring events.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Standard Lobaro devices typically do not need to know the real time for proper operation.
All times are relative to the initial time when batteries are inserted.</p>
</div>
<p>If needed by the target application Lobaro can deliver on request special hardware support for keeping
data acquisition intervals based on a real time clock which stays in sync with the real time.<br />
Please contact Lobaro directly if you need such a custom product variant.</p>
<p>A cron expression consists of 6 values separated by spaces:</p>
<ul>
<li>Seconds (0-59)</li>
<li>Minutes (0-59)</li>
<li>Hours (0-23)</li>
<li>Days (1-31)</li>
<li>Month (1-12)</li>
<li>Day of Week (SUN-SAT b= [0,6])</li>
</ul>
<p>Examples of CRON definitions: <br></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>0 5 ****</td>
<td>hourly at minute 5, second 0 (at 00:05:00, 01:05:00, ...)</td>
</tr>
<tr>
<td>0 1/10 * * * *</td>
<td>every 10 minutes from minute 1, second 0 (minutes 1, 11, 21, ...)</td>
</tr>
<tr>
<td>0 0 6 * * *</td>
<td>daily at 6:00:00</td>
</tr>
<tr>
<td>0 0 13 1,15 * *</td>
<td>1<sup>st</sup> and 15<sup>th</sup> day of every month at 13:00:00</td>
</tr>
<tr>
<td>0 0 9 1-5 * *</td>
<td>every month daily from day 1 till 5 at 9:00:00</td>
</tr>
</tbody>
</table>
<h3 id="configuration-and-battery-life">Configuration and battery life</h3>
<p>The time the LoRaWAN Humidity Sensor can operate on one set of batteries depends on
the configuration of the device. Most of the time, the sensor remains in a sleep state, during
which a very small amount of power is consumed (a current of about 20A). Most power is
used for sending messages via LoRa. One set of batteries lasts for about 30000 messages
(depending on details like spreading factor and transmission power), so you can estimate the
battery life for your configuration using the formula in equation 1. For example, if the device
is set to send hourly updates, it will send 25 messages per day (including the status message).
As illustrated in equation 2, the device should have a battery life of slightly over 3 years.</p>
<p><img alt="lorawanhumiditysensor" src="files/formel.png" style="width:30%; display: block; margin: 0 auto;" /></p>
<h2 id="lorawan-data-upload-formats">LoRaWAN Data Upload Formats</h2>
<p>After reading from the sensor probe, the device starts uploading data via LoRaWAN. There
exist two data formats that are transmitted over different LoRaWAN ports.<br />
As LoRaWAN can only transmit very short messages, the message formats contain only data
bytes. The meaning of a byte is determined by its position within a message. The following
describes the package formats used by the Humidity Sensor.<br />
Multi byte integers are transmitted as big endian. Values that would require decimal places are
transmitted in smaller units (e.g. mV instead of V). Since data packets sent over LoRa can be
lost, a timestamp is added to every data packet. Timestamps are encoded as signed 40 bit big
endian integers and express the number of seconds passed since 00:00:00 January 1<sup>st</sup>, 1970
(UNIX timestamp). Timestamps are according to the devices internal clock, which might be
set to an incorrect value. The timestamp always indicates the begin of the corresponding
measurement phase.<br />
We provide a JavaScript reference implementation of a decoder for this status packet on
<a href="https://github.com/lobaro/ttn-data-formats/blob/master/wmbus-bridge/decoder.js" target="_blank"><strong>GitHub</strong></a>, which can be used directly for decoding in <a href="https://www.thethingsnetwork.org/" target="_blank"><strong>The Things Network</strong></a>.</p>
<h3 id="status-packet">Status Packet</h3>
<p>Port 1 - In order to provide some information about the health of the device itself, the
Modbus Bridge sends a status update at a daily basis. The status packet is sent on the first
upload phase after activation of the device (after reboot) and then repeatedly in every upload
phase that takes place a day or longer after the previous status packet. It has a fixed length
of 14 bytes.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>bytes</th>
<th>description</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>uint8[3]</td>
<td>0-2</td>
<td>Version of the firmware running on the device</td>
<td>1, 0, 4  v1.0.4</td>
</tr>
<tr>
<td>fl</td>
<td>uint8</td>
<td>3</td>
<td>Status flags, for internal use</td>
<td>0</td>
</tr>
<tr>
<td>temp</td>
<td>int16</td>
<td>4-5</td>
<td>Temperature measured inside the device in 1/10 C</td>
<td>246  24.6C</td>
</tr>
<tr>
<td>v_bat</td>
<td>uint16</td>
<td>6-7</td>
<td>Battery voltage in mV</td>
<td>3547  3.547V</td>
</tr>
<tr>
<td>timestamp</td>
<td>int40</td>
<td>8-12</td>
<td>Internal date/time at creation of the packet</td>
<td>1533055905</td>
</tr>
<tr>
<td>mod</td>
<td>uint8</td>
<td>13</td>
<td>Operation mode the device runs</td>
<td>1</td>
</tr>
</tbody>
</table>
<h2 id="data-packet">Data Packet</h2>
<p>Port 2 - The data packet is used to transmit the measured environmental values. It includes
a timestamp and the information if the measurement was successful. The data packet has
a fixed length of 10 bytes. Please remember that the timestamp is always in reference to
the devices internal clock, which normally does not know the real time it is still usable to put
data points into real time context if you take one reference and calculate the offset of the
devices clock to real time. Figure 6 explains the bytes in inside the data package, table 4
explains the fields.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>bytes</th>
<th>description</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>int40</td>
<td>0-4</td>
<td>UNIX timestamp for measurement</td>
<td>1533055905</td>
</tr>
<tr>
<td>err</td>
<td>uint8</td>
<td>5</td>
<td>Error indicator. 0=success, 1=error</td>
<td>0  success</td>
</tr>
<tr>
<td>humidity</td>
<td>uint16</td>
<td>6-7</td>
<td>Rel. humidity 1/10 %</td>
<td>318  31.8 %</td>
</tr>
<tr>
<td>temperature</td>
<td>int16</td>
<td>8-9</td>
<td>Temperature in 1/10 C</td>
<td>-105  -10.5 C</td>
</tr>
</tbody>
</table>
<h2 id="sensor-specification">Sensor Specification</h2>
<p><img alt="Sensor Specification Data" src="files/am2305_spezificationdata.png" /></p>
<h2 id="technical-characteristics">Technical characteristics</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Product</strong></td>
<td></td>
</tr>
<tr>
<td>Type name</td>
<td>AM2305-LoRaWAN</td>
</tr>
<tr>
<td>Description</td>
<td>LoRaWAN Humidity Sensor</td>
</tr>
<tr>
<td><strong>RF transceiver</strong></td>
<td></td>
</tr>
<tr>
<td>Chipset</td>
<td>Semtech SX1272</td>
</tr>
<tr>
<td>Frequency Range</td>
<td>863 to 870 MHz</td>
</tr>
<tr>
<td>TX Power</td>
<td> 14 dBm</td>
</tr>
<tr>
<td>Typically RF range</td>
<td> 2km</td>
</tr>
<tr>
<td>Ideal RF range</td>
<td> 10km (free line of sight)</td>
</tr>
<tr>
<td><strong>LoRa communication</strong></td>
<td></td>
</tr>
<tr>
<td>LoRaWAN Protocol</td>
<td>LoRaWAN 1.0.1, Class A, EU868</td>
</tr>
<tr>
<td>Activation method</td>
<td>Over-the-air activation (OTAA) <br> Activation by personalization (ABP)</td>
</tr>
<tr>
<td>Encryption</td>
<td>AES128</td>
</tr>
<tr>
<td><strong>Power</strong></td>
<td></td>
</tr>
<tr>
<td>Power supply</td>
<td>2xAA sized battery, 1.5 V, LR6/FR6</td>
</tr>
<tr>
<td>Supply voltage</td>
<td>UNom = 3.0V, UMin = 2.2V, UMax = 3.7V</td>
</tr>
<tr>
<td>Capacity</td>
<td> 30000 LoRaWAN messages @SF11</td>
</tr>
<tr>
<td><strong>Humidity Sensor (Probe)</strong></td>
<td></td>
</tr>
<tr>
<td>Range</td>
<td>0%rH to 100%rH</td>
</tr>
<tr>
<td>Accuracy</td>
<td>2%rH (max 5%rH)</td>
</tr>
<tr>
<td>Resolution</td>
<td>0.1%rH</td>
</tr>
<tr>
<td><strong>Temperature Sensor (Probe)</strong></td>
<td></td>
</tr>
<tr>
<td>Range</td>
<td>-40C to 80C</td>
</tr>
<tr>
<td>Accuracy</td>
<td>0.3C</td>
</tr>
<tr>
<td>Resolution</td>
<td>0.1C</td>
</tr>
<tr>
<td><strong>Mechanical dimensions</strong></td>
<td></td>
</tr>
<tr>
<td>Size (Box)</td>
<td>114.3 mm x 59.3 mm x 26.8 mm</td>
</tr>
<tr>
<td>Size (Probe)</td>
<td>100mm x 16mm</td>
</tr>
<tr>
<td>Housing Material</td>
<td>ABS plastic</td>
</tr>
<tr>
<td><strong>Environmental Requirements</strong></td>
<td></td>
</tr>
<tr>
<td>Operating temperature range</td>
<td>-20C to +55C</td>
</tr>
<tr>
<td>Max. Installation height</td>
<td>2m</td>
</tr>
<tr>
<td><strong>Conformity</strong></td>
<td></td>
</tr>
<tr>
<td><img title="CE" alt="CE logo" src="/img/symbol-ce.svg" height="60"> <img title="weee" title="weee logo" src="/img/symbol-weee.svg" height="60"></td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Consider using the latest firmware on your hardware</p>
<ul>
<li><a href="firmware.html" target="_blank"><strong>See available firmware downloads</strong></a></li>
</ul>
</div>
<h2 id="target-measurement-purpose">Target Measurement / Purpose</h2>
<p>Temperature and relative humidity measurements with external probe and LoRaWAN.</p>
<h2 id="pdf-documentation">PDF Documentation</h2>
<ul>
<li><a href="files/lorawan-humidity-sensor_en.pdf" target="_blank">User Manual (en)</a></li>
<li><a href="files/ce-AM2305-lorawan.pdf" target="_blank">CE Conformity</a></li>
</ul>
<h2 id="parser">Parser</h2>
<h3 id="the-things-network-javascript">The Things Network (JavaScript)</h3>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * TTN-compatible data decoder for the Lobaro LoRaWAN Humidity Sensor.</span>
<span class="cm"> */</span>

<span class="kd">function</span> <span class="nx">readVersion</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="s2">&quot;v&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">int40_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span> <span class="o">|</span>
        <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">24</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="nx">bits</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">if</span> <span class="p">((</span><span class="nx">val</span> <span class="o">&amp;</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">bits</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// value is negative (16bit 2&#39;s complement)</span>

        <span class="kd">var</span> <span class="nx">mask</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">bits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>

        <span class="nx">val</span> <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="nx">val</span> <span class="o">&amp;</span> <span class="nx">mask</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// invert all bits &amp; add 1 =&gt; now positive value</span>

        <span class="nx">val</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">val</span><span class="p">;</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">int16_BE_1c</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;</span><span class="mh">0x7f</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;</span><span class="mh">0x80</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">-</span><span class="nx">v</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">v</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">port1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;port&quot;</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;version&quot;</span><span class="o">:</span><span class="nx">readVersion</span><span class="p">(</span><span class="nx">bytes</span><span class="p">),</span>
        <span class="s2">&quot;flags&quot;</span><span class="o">:</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="s2">&quot;temp&quot;</span><span class="o">:</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;vBat&quot;</span><span class="o">:</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="nx">int40_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
        <span class="s2">&quot;operationMode&quot;</span><span class="o">:</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">port2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;port&quot;</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="nx">int40_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="s2">&quot;error&quot;</span><span class="o">:!!</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;</span><span class="mh">0x01</span><span class="p">),</span>
        <span class="s2">&quot;humidity&quot;</span><span class="o">:</span><span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span><span class="o">/</span><span class="mf">10.0</span><span class="p">,</span>
        <span class="s2">&quot;temperature&quot;</span><span class="o">:</span><span class="nx">int16_BE_1c</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">/</span><span class="mf">10.0</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Decoder</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
            <span class="k">return</span> <span class="nx">port1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
            <span class="k">return</span> <span class="nx">port2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="o">:</span><span class="s2">&quot;invalid port&quot;</span><span class="p">,</span> <span class="s2">&quot;port&quot;</span><span class="o">:</span><span class="nx">port</span><span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../usonic-lorawan/firmware.html" title="Firmware & Changelog" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Firmware & Changelog
              </div>
            </div>
          </a>
        
        
          <a href="firmware.html" title="Firmware & Changelog" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Firmware & Changelog
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Lobaro GmbH
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/mermaid.min.js"></script>
      
        <script src="../../js/simple-lightbox.js"></script>
      
    
  </body>
</html>