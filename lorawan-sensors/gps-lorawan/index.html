



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Online documentation of the Lobaro GmbH, Industrial IoT Solutions. Manuals for our IoT Devices.">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.5.1">
    
    
      
        <title>Manual - Lobaro Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Cousine&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Cousine","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/lobarodoc.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-69919312-3", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#gps-glonass-lorawan-tracker" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="Lobaro Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../img/lobaro-rings-circle.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Lobaro Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Manual
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../index.html" title="Lobaro Documentation" class="md-nav__button md-logo">
      
        <img src="../../img/lobaro-rings-circle.svg" width="48" height="48">
      
    </a>
    Lobaro Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../hardware.html" title="Hardware Variations" class="md-nav__link">
      Hardware Variations
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      LoRaWAN Sensors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        LoRaWAN Sensors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      wMBUS Bridge
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        wMBUS Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Modbus Bridge
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Modbus Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/versions.html" title="Versions" class="md-nav__link">
      Versions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      EDL21 Bridge
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        EDL21 Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../edl21-opto-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../edl21-opto-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      1-Wire Bridge
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        1-Wire Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5" checked>
    
    <label class="md-nav__link" for="nav-3-5">
      GPS Tracker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        GPS Tracker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Manual
      </label>
    
    <a href="index.html" title="Manual" class="md-nav__link md-nav__link--active">
      Manual
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variant-without-power-addon" class="md-nav__link">
    Variant without Power Addon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variant-with-power-addon" class="md-nav__link">
    Variant with Power Addon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-the-gps-tracker" class="md-nav__link">
    Operating the GPS Tracker
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batteries" class="md-nav__link">
    Batteries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-cycle" class="md-nav__link">
    Work Cycle
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-phase" class="md-nav__link">
    Initial Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-join-phase" class="md-nav__link">
    LoRaWAN Join Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-collection-phase" class="md-nav__link">
    GPS Collection Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-phase" class="md-nav__link">
    Data Transfer Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-sleep-phase" class="md-nav__link">
    Active Sleep Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alive-sleep-phase" class="md-nav__link">
    Alive Sleep Phase
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-lobaro-maintenance-tool" class="md-nav__link">
    The Lobaro Maintenance Tool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-the-usb-config-adapter" class="md-nav__link">
    Connecting the USB config adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-parameters" class="md-nav__link">
    System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-network-parameters" class="md-nav__link">
    LoRaWAN network parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-configuration-parameters" class="md-nav__link">
    GPS configuration parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-expressions" class="md-nav__link">
    Cron expressions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lorawan-data-upload-formats" class="md-nav__link">
    LoRaWAN Data Upload Formats
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lobaro-upload-format-since-firmware-version-5" class="md-nav__link">
    Lobaro upload format (since Firmware Version 5)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fields-data-packet" class="md-nav__link">
    Fields, Data Packet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-flag" class="md-nav__link">
    Status flag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mydevices-cayenne-format" class="md-nav__link">
    myDevices Cayenne format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legacy-upload-format-up-to-firmware-version-4" class="md-nav__link">
    Legacy upload format (up to Firmware Version 4)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdf-documentation" class="md-nav__link">
    PDF Documentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    Parser
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-things-network" class="md-nav__link">
    The Things Network
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Usonic Distance Sensor
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        Usonic Distance Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7">
    
    <label class="md-nav__link" for="nav-3-7">
      Temp. + rH. Sensor
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-7">
        Temp. + rH. Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../humidity-temp-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../humidity-temp-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-8" type="checkbox" id="nav-3-8">
    
    <label class="md-nav__link" for="nav-3-8">
      Pressure Sensor
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-8">
        Pressure Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../dashboard/index.html" title="Lobaro Dashboard" class="md-nav__link">
      Lobaro Dashboard
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Lobaro Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Lobaro Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/lobaro-tool.html" title="Lobaro Maintenance Tool" class="md-nav__link">
      Lobaro Maintenance Tool
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/usb-config-adapter.html" title="USB Config Adapter" class="md-nav__link">
      USB Config Adapter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Knowledge base
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Knowledge base
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/cron-expressions.html" title="CRON Expressions" class="md-nav__link">
      CRON Expressions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/lorawan.html" title="LoRaWAN" class="md-nav__link">
      LoRaWAN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/obis-codes.html" title="OBIS Codes" class="md-nav__link">
      OBIS Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/weee-disposal.html" title="WEEE Disposal" class="md-nav__link">
      WEEE Disposal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro-shop.com/" title="Online Shop" class="md-nav__link">
      Online Shop
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro.com/" title="Company Home (DE)" class="md-nav__link">
      Company Home (DE)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro.com/contact/" title="Contact / Impressum" class="md-nav__link">
      Contact / Impressum
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variant-without-power-addon" class="md-nav__link">
    Variant without Power Addon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variant-with-power-addon" class="md-nav__link">
    Variant with Power Addon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-the-gps-tracker" class="md-nav__link">
    Operating the GPS Tracker
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batteries" class="md-nav__link">
    Batteries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-cycle" class="md-nav__link">
    Work Cycle
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-phase" class="md-nav__link">
    Initial Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-join-phase" class="md-nav__link">
    LoRaWAN Join Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-collection-phase" class="md-nav__link">
    GPS Collection Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-phase" class="md-nav__link">
    Data Transfer Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-sleep-phase" class="md-nav__link">
    Active Sleep Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alive-sleep-phase" class="md-nav__link">
    Alive Sleep Phase
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-lobaro-maintenance-tool" class="md-nav__link">
    The Lobaro Maintenance Tool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-the-usb-config-adapter" class="md-nav__link">
    Connecting the USB config adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-parameters" class="md-nav__link">
    System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-network-parameters" class="md-nav__link">
    LoRaWAN network parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-configuration-parameters" class="md-nav__link">
    GPS configuration parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-expressions" class="md-nav__link">
    Cron expressions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lorawan-data-upload-formats" class="md-nav__link">
    LoRaWAN Data Upload Formats
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lobaro-upload-format-since-firmware-version-5" class="md-nav__link">
    Lobaro upload format (since Firmware Version 5)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fields-data-packet" class="md-nav__link">
    Fields, Data Packet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-flag" class="md-nav__link">
    Status flag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mydevices-cayenne-format" class="md-nav__link">
    myDevices Cayenne format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legacy-upload-format-up-to-firmware-version-4" class="md-nav__link">
    Legacy upload format (up to Firmware Version 4)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdf-documentation" class="md-nav__link">
    PDF Documentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    Parser
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-things-network" class="md-nav__link">
    The Things Network
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/lobaro/docs/edit/master/docs/lorawan-sensors/gps-lorawan/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="gps-glonass-lorawan-tracker">GPS / GLONASS LoRaWAN Tracker</h1>
<h3 id="variant-without-power-addon">Variant without Power Addon</h3>
<p><code>Order number: 8000014</code> <br>
<img alt="Product Image" src="files/gpslorawan.png" style="height:400px;display: block; margin: 0 auto;" /></p>
<h3 id="variant-with-power-addon">Variant with Power Addon</h3>
<p><code>Order number: 8000082</code> <br>
<img alt="Product Image" src="files/neu.jpg" style="height:300px;display: block; margin: 0 auto;" /></p>
<div class="admonition info">
<p class="admonition-title">Hardware Revisions</p>
<p>The picture above shows the tracker in <strong>hardware revision 2</strong> with GPS and additional GLONASS support for best positioning.
Hardware revision 1 with GPS only is no longer available.</p>
<p><a href="firmware.html" target="_blank"><strong>Show pictures of different hardware revisions</strong></a> </p>
</div>
<h2 id="overview">Overview</h2>
<p>The LoRaWAN GPS Tracker (GPS-LoRaWAN) is a battery powered tracking device, that
uses the satellite based positioning services GPS and GLONASS to determine its location and transmits the
obtained coordinates via LoRaWAN radio technology. Intervals between measurements can
be freely configured, in order to adjust the device to individual needs.<br />
An integrated motion sensor detects changes in the device's movement (if it is picked up or
transported in a vehicle). This allows the device to switch between an <code>Active Mode</code> in which
frequent updates are uploaded during phases of movement and an <code>Alive Mode</code> that saves
battery power by sending only few updates. While not sending updates, the device enters a
sleep mode that only uses ∼30 µA.  </p>
<p><strong>Please read the manual carefully before operating the device. A safe operation of the
device is only possible if you follow the guides provided in this manual. Using the device
differently than intended by Lobaro my cause damage to people, the environment, or
the device.</strong></p>
<p><img alt="Modbus LoRaWAN Bridge" src="files/lorawan.png" style="width:30%; display: block; margin: 0 auto;" /></p>
<p><img alt="Modbus LoRaWAN Bridge" src="files/device.png" style="width:60%; display: block; margin: 0 auto;" /></p>
<h2 id="operating-the-gps-tracker">Operating the GPS Tracker</h2>
<p>Once batteries are inserted into the device, it will start working. The Tracker will
most likely need to be adjusted to your personal LoRaWAN configuration (see chapter "Configuration").</p>
<h3 id="batteries">Batteries</h3>
<p>The LoRaWAN GPS Tracker default power supply consists of two series connected off-theshelf
1.5V 'AA' sized batteries. Be sure to get the polarity right, see the '+'-Symbol on the
board. In general only AA cells of the types Alkali-Manganese (1.5V, LR6) and Lithium-Iron-
Sulphide (1.5V, FR6) are allowed to be inserted in the device. Lobaro recommends the use
of FR6 batteries like the Energizer Ultimate Lithium over LR6 types because of the higher
capacity and better discharge properties.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Other Batteries or accumulators with a nominal voltage of more than 1.5V must not inserted into the device under any circumstances. 
In particular, lithium based cells with a nominal voltage of 3.6V or 3.7V must not be used on the AA battery slots!</p>
</div>
<p>On request we can supply custom product variants with special housings powered by even
bigger batteries. For example a 3.6V C sized mono cell typically has a capacity of 9Ah with
leads to a 3x increased battery life compared to the standard AA-cells. With D sized cells of
typically 19Ah capacity this value can be doubled once again (6x). Also available on request
are options with permanent external power supply (230V, 9-24V, 5V USB).</p>
<h3 id="installation">Installation</h3>
<p>The device can be fixed on a flat surface using the lateral mounting holes of the case, see
<a href="../../hardware.html">Hardware Variations</a> for a detailed description of all housing dimensions. Alternatively we offer as
accessory a mounting clip for a standard 35mm DIN rail. The device can then easily snapped
on a such rails. It can therefore be added to a variety of racks alongside other devices.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Under any circumstances the device must not be mounted higher than 2 meters above ground to avoid any risks in case of falling down!</p>
</div>
<p>For optimal RF performance (e.g. LoRa range) any metal obstacles near the internal antenna
should be avoided. In this case 'near' is defined as keep-out distance of about 3-5 centimeters
around the antenna. The internal helix antenna can be identified by the winding pcb traces
near the white printed encircled 'connectivity' symbol. In any case a device mounting directly
on top of a metal surface is not advisable since it will degrade the possible RF range. Stone
walls, wood or plastic standoffs are perfectly ok.
In case of challenging installation locations (e.g. in basements) or unavoidable long distances
to the next LoRaWAN gateway, Lobaro offers on request custom product variant equipped
with a 'SMA' connector to support a external antenna connection.</p>
<h2 id="work-cycle">Work Cycle</h2>
<p><div class="mermaid">graph LR;
    GPS(GPS Collection)
    Data(Data Transfer)
    Active(Active Sleep)
    Alive(Alive Sleep)
    init(Initial)==&gt;check(LoRaWAN Join);
    check(LoRaWAN Join)==&gt;GPS(GPS Collect.);
    Data==&gt;|recent movement|Active(Active Sleep);
    GPS==&gt;Data(Data Transfer);
    Active==&gt;|short time cron expression|GPS(GPS Collection);
    Data(Data Transfer)==&gt;|no recent movement|Alive(Alive Sleep);
    Alive==&gt;|movement or long time cron expression|GPS(GPS Collection);</div>
The GPS Tracker has a work cycle that adapts to detected motion of the device.</p>
<h4 id="initial-phase">Initial Phase</h4>
<p>This is the phase that is executed after the device is started of restarted. The LED flashes
once and the configuration is evaluated. If successful, the LoRaWAN Join phase is executed
next.</p>
<h4 id="lorawan-join-phase">LoRaWAN Join Phase</h4>
<p>If the Device is configured to use over the air activation (OTAA), the OTAA Join is performed
at this point. The device will repeatedly try to join its LoRaWAN network until the process
is successful. It then enters the Data Collection Phase.
If the Device is configured to use ABP instead of OTAA, this phase is left immediately and
the Data Collection Phase is entered.</p>
<h4 id="gps-collection-phase">GPS Collection Phase</h4>
<p>During the GPS Collection Phase the device will try to determine its coordinates (latitude,
longitude, and height) using GPS. You can identify this phase by the onboard LED flashing
on and off in one second intervals.
Once the position has been determined successfully (or the attempt timed out and failed,
because of bad GPS reception), the device enters the Data Transfer Phase.</p>
<h4 id="data-transfer-phase">Data Transfer Phase</h4>
<p>During the Data Transfer Phase the Tracker uploads the GPS coordinates to the LoRaWAN
network. The message contains the information if the measurement was successful. Some
status information about the device are included as well.
For a detailed description of the data sent refer to "LoRaWAN Data Upload Formats".
After data transfer, the GPS Tracker enters a sleep state to save power. Depending on
how much time passed since the last physical movement of the device (determined by the
internal motion sensor), the Tracker enters diferent sleep phases. If the time since the last
detected motion is less than a timeout value (configurable, standard value is 65 minutes),
the device remains in <code>Active mode</code> enters only a short sleep phase (<code>Active Sleep</code>). If no
motion was detected for a time longer than the timeout, the device enters the <code>Alive Sleep</code>
Phase, which typically has a much longer sleeping time, but in which the device will also be
activated through movement.</p>
<h4 id="active-sleep-phase">Active Sleep Phase</h4>
<p>Even in Active Mode, the device spends most of its time in a deep sleep state to conserve
energy. The frequency with which the Tracker wakes up in Active Mode can be configured
using a Cron expression (see "GPS configuration parameters"). Typical values for active sleep time are 5 or 15
minutes.
When in Active Sleep Phase, the device will not be triggered to gather more GPS positions
through motion, but movement of the device will still be registered to keep the Tracker in
Active Mode.</p>
<h4 id="alive-sleep-phase">Alive Sleep Phase</h4>
<p>When no movement has been detected for a long amount of time (configurable), the device
stops sending updates, since there is not much point in sending frequent position information
when the device does not change its position. In Alive Mode, only very few updates are sent
to keep the network informed about the device's health. Typically one message is sent per
day in this mode (frequency can be configured with a cron expression, see "GPS configuration parameters").
When physical movement is detected by the internal motion sensor during this phase, the
GPS Tracker immediately wakes up and switches to Active Mode.</p>
<h2 id="configuration">Configuration</h2>
<h3 id="the-lobaro-maintenance-tool">The Lobaro Maintenance Tool</h3>
<p><img alt="Modbus LoRaWAN Bridge" src="files/maintenancetool.png" style="width:60%; display: block; margin: 0 auto;" /></p>
<p>The initial device configuration can be done very comfortably from your PC via the serial
configuration interface. Beside the needed Lobaro USB to UART adapter the 
<a href="../../tools/lobaro-tool.html" target="_blank"><strong>Lobaro Maintenance Tool</strong></a> needs to be installed. This tool is freely available for various operating systems
including Windows, Linux, Mac and Linux-ARM (e.g. Raspberry-PI) on and works with all
Lobaro sensors.</p>
<p>Technically this software opens a webserver on port 8585 that runs in a background console
window. The actual user interface can be accessed normally using a standard web browser
at address <a href="http://localhost:8585">http://localhost:8585</a>. Normally your default browser should be
opened with this URL automatically after tool startup . Even remote configuration and logobservation
over the Internet is possible, e.g. having a Raspberry PI via USB connected to
the Lobaro device and accessing the maintenance tool from a remote machines browser over
the Internet.</p>
<p>Additionally to the device setup the tool can also be used for firmware updates ('Firmware
Tab') , watching real-time device diagnostic output ('Logs Tab') and initiating device restarts.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Please note that the device might be restarted each time the configuration gets plugged/unplugged!</p>
</div>
<h3 id="connecting-the-usb-config-adapter">Connecting the USB config adapter</h3>
<p>For configuration and Firmware updates we provide a special serial-USB adapter that can be
connected as shown in the picture underneath. The corresponding connector on the PCB is marked with
the word 'Config'.</p>
<p>The USB-adapter will add a virtual serial 'COM' Port to your system. Your operating system
needs the <a href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers" target="_blank">CP210x USB to UART bridge</a> driver installed. A download link is provided next
to the 'Connect' button when you start the Maintenance Tool.
While the config adapter is connected, the device will be powered from the USB port with
a regulated voltage of 3.3V. It is not necessary - although it would be no problem - having
batteries inserted or a different supply connected while using the config adapter. All
configuration parameters will be kept non-volatile regardless of the power supply.</p>
<p><img alt="GPS Tracker" src="files/config.png" style="width:50%; display: block; margin: 0 auto;" /></p>
<div class="admonition info">
<p class="admonition-title">Hardware Revisions</p>
<p>The picture above shows the tracker in <strong>hardware revision 1</strong> with GPS only support.
Hardware revision 1 with GPS only is no longer available. </p>
</div>
<h3 id="system-parameters">System Parameters</h3>
<p>After being successfully connected to the hardware using the Lobaro Maintenance Tool you
can press 'Reload Config' in the 'Configuration' tab to read the current configuration from the
device. For every parameter a default value is stored non volatile inside the hardware to which
you can revert using the 'Restore default' button in case anything got miss configured.
All LoRaWAN &amp; other firmware parameters are explained in the following.</p>
<h3 id="lorawan-network-parameters">LoRaWAN network parameters</h3>
<p>A large part of the configuration parameters are used to control the device's usage of Lo-
RaWAN. The table lists all of them. There are two different ways to use LoRaWAN: over-the-air
activation (OTAA) and activation by personalization (ABP). Some configuration parameters
are only used with one of those methods, others are used for both.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Used</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>OTAA</td>
<td>bool</td>
<td>both</td>
<td>true: use over-the-air activation (OTAA) <br> false: use activation by personalization (ABP)</td>
</tr>
<tr>
<td>DevEUI</td>
<td>bytes[8]</td>
<td>OTAA</td>
<td>the 8 byte long DevEUI is used with OTAA to identify the device on join. The default is predefined in the hardware and guarantees an ID that is unique world wide. Should not be changed unless required by the network provider. Hex format without 0x prefix.</td>
</tr>
<tr>
<td>AppEUI</td>
<td>bytes[8]</td>
<td>OTAA</td>
<td>ID defining the application used in the LoRaWAN network. Hex format without 0x prefix.</td>
</tr>
<tr>
<td>AppKey</td>
<td>bytes[16]</td>
<td>OTAA</td>
<td>Application Key as defined by the LoRaWAN network operator. This is used to encrypt communication, so keep it secret. Hex format without 0x prefix.</td>
</tr>
<tr>
<td>OTAADelay</td>
<td>int</td>
<td>OTAA</td>
<td>Seconds to wait for a new attempt after an unsuccessful OTAA join. The actual waiting time will be randomly increased by up to a third of that amount, in order to avoid devices repeatedly interfering with each other through bad timing. The default value is 300, which means the timeout between attempts is 300-400 seconds.</td>
</tr>
<tr>
<td>AppSKey</td>
<td>bytes[16]</td>
<td>ABP</td>
<td>App Session Key as defined by the LoRaWAN network operator. Hex format without 0x prefix.</td>
</tr>
<tr>
<td>NetSKey</td>
<td>bytes[16]</td>
<td>ABP</td>
<td>Network Session Key ad defined by the LoRaWAN network operator. Hex format without 0x prefix.</td>
</tr>
<tr>
<td>DevAdr</td>
<td>bytes[4]</td>
<td>ABP</td>
<td>Device Address as defined by the LoRaWAN network operator. Hex format without 0x prefix.</td>
</tr>
<tr>
<td>SF</td>
<td>int</td>
<td>both</td>
<td>Initial LoRa spreading factor used for transmissions. Valid range is 7-12. The actual spreading factor used might change during operation of the device if Adaptive Data Rate (ADR) is used.</td>
</tr>
<tr>
<td>TxPower</td>
<td>int</td>
<td>both</td>
<td>Initial transmission output power in dBm. The Lo-RaWAN protocol allows only specific values: 2, 5, 8, 11, 14. The actual power used might change during operation if Adaptive Data Rate (ADR) is used.</td>
</tr>
<tr>
<td>ADR</td>
<td>bool</td>
<td>both</td>
<td>true: use adaptive data rate (ADR) <br> false: don't use adaptive data rate (ADR)</td>
</tr>
</tbody>
</table>
<h3 id="gps-configuration-parameters">GPS configuration parameters</h3>
<p>The behaviour of the GPS Tracker and how it switches between its two operation modes
('Active' and 'Alive') can be adjusted to your needs. The table explains the configuration
parameters used for this.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ActiveCron</td>
<td>string</td>
<td>Cron expression defining how often the device will take a measurement and send its position over LoRaWAN while the Tracker is in Active Mode. This expression should trigger much more frequent than the one for Alive Mode. The standard is 0 0/15 * * * *, which will trigger every 15 minutes. See chapter "Cron expressions" for an introduction to cron expressions.</td>
</tr>
<tr>
<td>AliveCron</td>
<td>string</td>
<td>Cron expression defining how often the device will wake up when in Alive Mode. This should be less frequent than in Active Mode. The standard is 0 0 0/12 * * *, which translates to twice each day. See chapter "Cron expressions" for an introduction to cron expressions.</td>
</tr>
<tr>
<td>gpsTO</td>
<td>int</td>
<td>Time in seconds to wait for GPS to get a fix before timing out. The standard value is 180 seconds.</td>
</tr>
<tr>
<td>actTO</td>
<td>int</td>
<td>Time in minutes without movement after which the Tracker switches to Alive Mode. The standard value is 65 minutes.</td>
</tr>
<tr>
<td>memsTh</td>
<td>int</td>
<td>Threshold for the internal motion detector to register movement. Values range from 2 to 255. A higher value makes the device less sensitive.<br>2 Environment (wind or steps) may trigger.<br>5 Standard, picking up the device will activate it. <br> 20 Carefully picking it up will not trigger the device.<br>50 When carried, running will trigger, walking won't.<br>100+ Shaking will activate, dropping the device might not.</td>
</tr>
<tr>
<td>CayenneLPP</td>
<td>bool</td>
<td>Use alternative Cayenne LPP upload format. Standard: false, e.g. use Lobaro Format. See chapter "myDevices Cayenne format" for an introduction to this format.</td>
</tr>
</tbody>
</table>
<h3 id="cron-expressions">Cron expressions</h3>
<p>Cron expressions are used to define specific points in time and regular repetitions of them.<br />
The schedule for data collecting phases is defined using the <a href="../../background/cron-expressions.html" target="_blank">CRON</a> format which is very
powerful format to define repeatedly occurring events.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Standard Lobaro devices typically do not need to know the real time for proper operation. 
All times are relative to the initial time when batteries are inserted.</p>
</div>
<p>If needed by the target application Lobaro can deliver on request special hardware support for keeping
data acquisition intervals based on a real time clock which stays in sync with the real time.<br />
Please contact Lobaro directly if you need such a custom product variant.</p>
<p>A cron expression consists of 6 values separated by spaces:</p>
<ul>
<li>Seconds (0-59)</li>
<li>Minutes (0-59)</li>
<li>Hours (0-23)</li>
<li>Days (1-31)</li>
<li>Month (1-12)</li>
<li>Day of Week (SUN-SAT b= [0,6])</li>
</ul>
<p>Examples of CRON definitions: <br></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>0 5 ****</td>
<td>hourly at minute 5, second 0 (at 00:05:00, 01:05:00, ...)</td>
</tr>
<tr>
<td>0 1/10 * * * *</td>
<td>every 10 minutes from minute 1, second 0 (minutes 1, 11, 21, ...)</td>
</tr>
<tr>
<td>0 0 6 * * *</td>
<td>daily at 6:00:00</td>
</tr>
<tr>
<td>0 0 13 1,15 * *</td>
<td>1<sup>st</sup> and 15<sup>th</sup> day of every month at 13:00:00</td>
</tr>
<tr>
<td>0 0 9 1-5 * *</td>
<td>every month daily from day 1 till 5 at 9:00:00</td>
</tr>
</tbody>
</table>
<h2 id="lorawan-data-upload-formats">LoRaWAN Data Upload Formats</h2>
<p>After reading GPS coordinates (either successfully or unsuccessfully), the Tracker uploads the
data using LoRaWAN. As LoRaWAN can only transmit very short messages, the message
formats contain only data bytes, no keys or data types are included. The meaning of a byte
is determined by its position within a message. The tracker supports two different upload
formats as described in the following:</p>
<h3 id="lobaro-upload-format-since-firmware-version-5">Lobaro upload format (since Firmware Version 5)</h3>
<p>Only a single massage format is used by the GPS Tracker, it has a fixed length of 17 bytes.
The table explains the message format used.
This format uses the decimal degrees notation for the location, e.g. 53.4724° north and
9.9334° east. Positive (+) values indicate north longitudes and east latitudes, negative (-)
values indicate south longitudes and west latitudes. Both location values are transmitted as
signed integers in <em>big endian</em> format and get multiplied by 100.000. So after receiving the
location data must be divided by this factor.
Multi byte integers are transmitted as big endian. Values that would require decimal places
are transmitted in smaller units, e.g. 1/100000 degree (as described before), to handle only with
integers.</p>
<h3 id="fields-data-packet">Fields, Data Packet</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>bytes</th>
<th>type</th>
<th>description</th>
<th>example / range</th>
</tr>
</thead>
<tbody>
<tr>
<td>temp</td>
<td>0-1</td>
<td>int16</td>
<td>Temperature inside the device in 1/10°C</td>
<td>246 =  24.6 °C</td>
</tr>
<tr>
<td>v_bat</td>
<td>2-3</td>
<td>uint16</td>
<td>Current battery voltage in mV</td>
<td>3547 = 3.547 V</td>
</tr>
<tr>
<td>latitude deg</td>
<td>4-7</td>
<td>int32</td>
<td>int32 degrees of the latitude x 100 000</td>
<td>-9 000 000 to 9 000 000</td>
</tr>
<tr>
<td>longitude deg</td>
<td>8-11</td>
<td>int32</td>
<td>degrees of the longitude x 100 000</td>
<td>-18 000 000 to 18 000 000</td>
</tr>
<tr>
<td>altitude</td>
<td>12-14</td>
<td>int24</td>
<td>Altitude of the device in centimeters</td>
<td>-8 388 607 to 8 388 606</td>
</tr>
<tr>
<td>flags</td>
<td>15</td>
<td>uint8</td>
<td>Status flag, refer to table below</td>
<td>00bin = invalid, alive <br> 01bin = valid, alive <br> 10bin = invalid, active <br> 11bin = valid, active</td>
</tr>
<tr>
<td>sat</td>
<td>16</td>
<td>uint8</td>
<td>GPS satellites found / in view</td>
<td>7</td>
</tr>
</tbody>
</table>
<h3 id="status-flag">Status flag</h3>
<table>
<thead>
<tr>
<th>bit</th>
<th>function</th>
<th>not set</th>
<th>set</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Validity of last measurement</td>
<td>invalid</td>
<td>valid</td>
</tr>
<tr>
<td>2</td>
<td>Current operation mode</td>
<td>alive</td>
<td>active</td>
</tr>
<tr>
<td>3-8</td>
<td>reserved for future use</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>If during some configurable period of time (see "gpsTO" parameter in table "GPS configuration parameters") no GPS
location can be found the last known valid GPS location will be transmitted but with the
valid flag set to false.
We provide a <a href="#parser">JavaScript reference implementation</a> of a decoder for the data packages, 
which can be used directly for decoding in <a href="https://www.thethingsnetwork.org/" target="_blank">The Things Network</a>.</p>
<h3 id="mydevices-cayenne-format">myDevices Cayenne format</h3>
<p>As an alternative for the Lobaro data format the tracker can be configured to send Cayenne
LPP compatible LoRaWAN uploads. <a href="https://mydevices.com/" target="_blank">myDevices Cayenne</a> allows you to quickly visualize the
via LoRaWAN transmitted data of the Lobaro GPS-tracker. You can use Cayenne as a tool
to visualize real-time and historical data, sent over The Things Network and various other
LoRaWAN providers.
To use the alternative upload format configuration parameter "CayenneLPP" must be set to
"true" as described in section "GPS configuration parameters" The advantages of using the cayenne format is a quick
device evaluation without programming some custom backend and/or front software. Disadvantages
are bigger LoRaWAN message sizes due to the additional schema meta information
overhead the format needs.</p>
<p>The Lobaro GPS Trackers maps its data to cayenne channels as follows:</p>
<table>
<thead>
<tr>
<th>description</th>
<th>cayenne channel</th>
<th>cayenne type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Internal Temperature</td>
<td>0</td>
<td>Temperature</td>
</tr>
<tr>
<td>Battery Voltage</td>
<td>1</td>
<td>AnalogOutput</td>
</tr>
<tr>
<td>GPS data</td>
<td>2</td>
<td>GPS</td>
</tr>
<tr>
<td>satellites found</td>
<td>3</td>
<td>Digital Output</td>
</tr>
</tbody>
</table>
<h3 id="legacy-upload-format-up-to-firmware-version-4">Legacy upload format (up to Firmware Version 4)</h3>
<p>This format is not supported any more since firmware version V5.0.0! Please consider updating
your device firmware using the Lobaro maintenance tool.
Only a single massage format is used by the GPS Tracker, it has a fixed length of 15 bytes.
This format uses the degrees with decimal minutes notation for the location.
Multi byte integers are transmitted as big endian. Values that would require decimal places
are transmitted in smaller units (e.g. mV instead of V).
The table underneath explains the message format used.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>example/range</th>
</tr>
</thead>
<tbody>
<tr>
<td>flags</td>
<td>uint8</td>
<td>Status flags, for internal use</td>
<td>0</td>
</tr>
<tr>
<td>temp</td>
<td>int16</td>
<td>Temperature inside the device in 1/10°C</td>
<td>246 ≙ 24.6 °C</td>
</tr>
<tr>
<td>v_bat</td>
<td>uint16</td>
<td>Current battery voltage in mV</td>
<td>3547 ≙ 3:547 V</td>
</tr>
<tr>
<td>latitude deg</td>
<td>int8</td>
<td>Whole degrees of the latitude</td>
<td>-90 to 90</td>
</tr>
</tbody>
</table>
<h4 id="example">Example</h4>
<div class="admonition info">
<p class="admonition-title">As an illustration, if the received data would consist of the 15 bytes (hexencoded):</p>
<p><strong>00 01 18 0D 69 35 1C 0F 71 09 38 02 4B 01 06</strong></p>
</div>
<table>
<thead>
<tr>
<th>type</th>
<th>example</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>flag</td>
<td><strong>00</strong></td>
<td>for internal use, ignore</td>
</tr>
<tr>
<td>temp</td>
<td><strong>01 18</strong></td>
<td>0118 hex = 0280dec ≙ 280 d°C = 28.0 °C</td>
</tr>
<tr>
<td>v_bat</td>
<td><strong>0D 69</strong></td>
<td>0D89 hex = 3465dec ≙ 3465mV = 3.465V</td>
</tr>
<tr>
<td>latitude</td>
<td><strong>35 1C 0F 71</strong></td>
<td>35hex = 53dec ≙ 53° <br> 1C hex = 28dec ≙ 28' <br> 0F71 hex = 3953dec ≙ 0.3953' <br> 351C0F71 ≙ 53°28.3952' = 53.473255° = 53°28'23.718'' North</td>
</tr>
<tr>
<td>longitude</td>
<td><strong>09 38 02 4B</strong></td>
<td>09 hex = 09dec ≙ 09°<br> 38 hex = 56dec ≙ 56' <br> 024B hex = 0587dec ≙ 0.0587'<br> 0938024B ≙ 9°56.0587' = 9.934 312° = 9°56'3.522'' East</td>
</tr>
<tr>
<td>valid</td>
<td><strong>01</strong></td>
<td>01hex ≙ valid measurement, could receive GPS signal</td>
</tr>
<tr>
<td>sat</td>
<td><strong>06</strong></td>
<td>06hex = 06dec ≙ Signal of 6 satellites received for measurement</td>
</tr>
</tbody>
</table>
<h2 id="technical-characteristics">Technical characteristics</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Product</strong></td>
<td></td>
</tr>
<tr>
<td>Type name</td>
<td>GPS-LoRaWAN</td>
</tr>
<tr>
<td>Description</td>
<td>LoRaWAN GPS Tracker</td>
</tr>
<tr>
<td><strong>RF transceiver</strong></td>
<td></td>
</tr>
<tr>
<td>Chipset</td>
<td>Semtech SX1272</td>
</tr>
<tr>
<td>Frequency Range</td>
<td>863 to 870 MHz</td>
</tr>
<tr>
<td>TX Power</td>
<td>≤ 14 dBm</td>
</tr>
<tr>
<td>Typically RF range</td>
<td>≤ 2km</td>
</tr>
<tr>
<td>Ideal RF range</td>
<td>≤ 10km (free line of sight)</td>
</tr>
<tr>
<td><strong>LoRa communication</strong></td>
<td></td>
</tr>
<tr>
<td>LoRaWAN Protocol</td>
<td>LoRaWAN 1.0.1, Class A, EU868</td>
</tr>
<tr>
<td>Activation method</td>
<td>Over-the-air activation (OTAA) <br> Activation by personalization (ABP)</td>
</tr>
<tr>
<td>Encryption</td>
<td>AES128</td>
</tr>
<tr>
<td><strong>Power</strong></td>
<td></td>
</tr>
<tr>
<td>Power supply</td>
<td>2xAA sized battery, 1.5 V, LR6/FR6</td>
</tr>
<tr>
<td>Supply voltage</td>
<td>UNom = 3.0V, UMin = 2.2V, UMax = 3.7V</td>
</tr>
<tr>
<td>Capacity</td>
<td>∼ 30000 LoRaWAN messages @SF11</td>
</tr>
<tr>
<td><strong>Current consumption @3V</strong></td>
<td></td>
</tr>
<tr>
<td>Normal</td>
<td>≤3 mA</td>
</tr>
<tr>
<td>Wireless M-BUS RX</td>
<td>≤14 mA</td>
</tr>
<tr>
<td>LoRa RX</td>
<td>≤14 mA</td>
</tr>
<tr>
<td>LoRa TX</td>
<td>≤80 mA</td>
</tr>
<tr>
<td>Sleep with GPS standby and MEMS running</td>
<td>≤20 µA</td>
</tr>
<tr>
<td><strong>Mechanical dimensions</strong></td>
<td></td>
</tr>
<tr>
<td>Size</td>
<td>114.3 mm x 59.3 mm x 26.8 mm</td>
</tr>
<tr>
<td>Housing Material</td>
<td>ABS plastic</td>
</tr>
<tr>
<td><strong>Environmental Requirements</strong></td>
<td></td>
</tr>
<tr>
<td>Operating temperature range</td>
<td>-20°C to +55°C</td>
</tr>
<tr>
<td>Max. Installation height</td>
<td>2m</td>
</tr>
<tr>
<td><strong>Conformity</strong></td>
<td></td>
</tr>
<tr>
<td><img title="CE" alt="CE logo" src="/img/symbol-ce.svg" height="60"> <img title="weee" title="weee logo" src="/img/symbol-weee.svg" height="60"></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="pdf-documentation">PDF Documentation</h2>
<ul>
<li><a href="files/lorawan-gps-tracker_en.pdf">User Manual (en)</a></li>
<li><a href="files/scan-ce-conformity-gps-lorawan.pdf">CE Conformity</a></li>
</ul>
<h2 id="parser">Parser</h2>
<h3 id="the-things-network">The Things Network</h3>
<p>For Version 4.x, 5.x and 6.x</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="nx">bits</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="nx">val</span> <span class="o">&amp;</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">bits</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// value is negative (16bit 2&#39;s complement)</span>
        <span class="kd">var</span> <span class="nx">mask</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">bits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">val</span> <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="nx">val</span> <span class="o">&amp;</span> <span class="nx">mask</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// invert all bits &amp; add 1 =&gt; now positive value</span>
        <span class="nx">val</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">int24_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">int32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">24</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DecoderPort2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Format for firmware 5.0.x</span>
    <span class="c1">// Decode an uplink message from a buffer</span>
    <span class="c1">// (array) of bytes to an object of fields.</span>

    <span class="kd">var</span> <span class="nx">Temp</span> <span class="o">=</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">VBat</span> <span class="o">=</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Lat</span> <span class="o">=</span> <span class="nx">int32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Lon</span> <span class="o">=</span> <span class="nx">int32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Alt</span> <span class="o">=</span> <span class="nx">int24_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Valid</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0x01</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Active</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0x02</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">SatCnt</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">Temp</span><span class="o">:</span> <span class="nx">Temp</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">VBat</span><span class="o">:</span> <span class="nx">VBat</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">Lat</span><span class="o">:</span> <span class="nx">Lat</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">Lon</span><span class="o">:</span> <span class="nx">Lon</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">Alt</span><span class="o">:</span> <span class="nx">Alt</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">Valid</span><span class="o">:</span> <span class="nx">Valid</span><span class="p">,</span>
        <span class="nx">Active</span><span class="o">:</span> <span class="nx">Active</span><span class="p">,</span>
        <span class="nx">SatCnt</span><span class="o">:</span> <span class="nx">SatCnt</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DecoderPort1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// legacy format, firmware 4.x</span>
    <span class="c1">// Decode an uplink message from a buffer</span>
    <span class="c1">// (array) of bytes to an object of fields.</span>

    <span class="kd">var</span> <span class="nx">button_number</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">Temp10tel</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">VBat1000tel</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">lat_deg</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">lat_min</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">lat_10000min</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">long_deg</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">9</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">long_min</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">long_10000min</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">gpsValid</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">);</span>  <span class="c1">// Missing byte = true</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">button_number</span><span class="o">:</span><span class="nx">button_number</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">Temp10tel</span><span class="o">:</span> <span class="nx">Temp10tel</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">VBat1000tel</span><span class="o">:</span> <span class="nx">VBat1000tel</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">lat_deg</span><span class="o">:</span> <span class="nx">lat_deg</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">lat_min</span><span class="o">:</span> <span class="nx">lat_min</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">lat_10000min</span><span class="o">:</span> <span class="nx">lat_10000min</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">long_deg</span><span class="o">:</span> <span class="nx">long_deg</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">long_min</span><span class="o">:</span> <span class="nx">long_min</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">long_10000min</span><span class="o">:</span> <span class="nx">long_10000min</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">gps_valid</span><span class="o">:</span> <span class="nx">gpsValid</span> <span class="o">||</span> <span class="kc">false</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Decoder</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
            <span class="k">return</span> <span class="nx">DecoderPort1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
            <span class="k">return</span> <span class="nx">DecoderPort2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="o">:</span><span class="s2">&quot;Unsupported port&quot;</span><span class="p">,</span><span class="s2">&quot;port&quot;</span><span class="o">:</span><span class="nx">port</span><span class="p">};</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../1-wire-lorawan/firmware.html" title="Firmware & Changelog" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Firmware & Changelog
              </span>
            </div>
          </a>
        
        
          <a href="firmware.html" title="Firmware & Changelog" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Firmware & Changelog
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Lobaro GmbH
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.8e03edeb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../js/mermaid.min.js"></script>
      
    
  </body>
</html>