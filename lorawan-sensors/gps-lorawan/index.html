


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Online documentation of the Lobaro GmbH, Industrial IoT Solutions. Manuals for our IoT Devices.">
      
      
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.5.3">
    
    
      
        <title>Manual V3 - Lobaro Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.947af8d5.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7f672a1f.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CCousine&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Cousine",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/lobarodoc.css">
    
      <link rel="stylesheet" href="../../css/simple-lightbox.min.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-69919312-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gps-beidou-lorawan-tracker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Lobaro Documentation" class="md-header-nav__button md-logo" aria-label="Lobaro Documentation">
      
  <img src="../../img/lobaro-rings-circle.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Lobaro Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Manual V3
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lobaro Documentation" class="md-nav__button md-logo" aria-label="Lobaro Documentation">
      
  <img src="../../img/lobaro-rings-circle.svg" alt="logo">

    </a>
    Lobaro Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Documentation Start" class="md-nav__link">
      Documentation Start
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      LoRaWAN Sensors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="LoRaWAN Sensors" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        LoRaWAN Sensors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      wMBUS Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="wMBUS Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        wMBUS Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Modbus Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Modbus Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Modbus Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/versions.html" title="Versions" class="md-nav__link">
      Versions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      EDL21 Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="EDL21 Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        EDL21 Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../edl21-opto-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../edl21-opto-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Multi Temp. Sensor Box
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Multi Temp. Sensor Box" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Multi Temp. Sensor Box
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5" checked>
    
    <label class="md-nav__link" for="nav-2-5">
      GPS Tracker
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="GPS Tracker" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        GPS Tracker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Manual V3
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="index.html" title="Manual V3" class="md-nav__link md-nav__link--active">
      Manual V3
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    Key Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    Quick-start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-the-gps-tracker" class="md-nav__link">
    Operating the GPS Tracker
  </a>
  
    <nav class="md-nav" aria-label="Operating the GPS Tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batteries" class="md-nav__link">
    Batteries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-cycle" class="md-nav__link">
    Work Cycle
  </a>
  
    <nav class="md-nav" aria-label="Work Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-phase" class="md-nav__link">
    Initial Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-join-phase" class="md-nav__link">
    LoRaWAN Join Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-collection-phase" class="md-nav__link">
    GPS Collection Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-phase" class="md-nav__link">
    Data Transfer Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-sleep-phase" class="md-nav__link">
    Active Sleep Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passive-sleep-phase" class="md-nav__link">
    Passive Sleep Phase
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-lobaro-maintenance-tool" class="md-nav__link">
    The Lobaro Maintenance Tool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-the-usb-config-adapter" class="md-nav__link">
    Connecting the USB config adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-parameters" class="md-nav__link">
    System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan" class="md-nav__link">
    LoRaWAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-configuration-parameters" class="md-nav__link">
    GPS configuration parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-expressions" class="md-nav__link">
    Cron expressions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#led-patterns" class="md-nav__link">
    LED patterns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lorawan-data-upload-formats" class="md-nav__link">
    LoRaWAN Data Upload Formats
  </a>
  
    <nav class="md-nav" aria-label="LoRaWAN Data Upload Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#numerical-values" class="md-nav__link">
    Numerical values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-message" class="md-nav__link">
    Status Message
  </a>
  
    <nav class="md-nav" aria-label="Status Message">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#firmware-and-version" class="md-nav__link">
    Firmware and Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-code" class="md-nav__link">
    Status Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reboot-reason" class="md-nav__link">
    Reboot reason
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-word" class="md-nav__link">
    Final word
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voltage" class="md-nav__link">
    Voltage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temperature" class="md-nav__link">
    Temperature
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-flags" class="md-nav__link">
    Flags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-message" class="md-nav__link">
    Data Message
  </a>
  
    <nav class="md-nav" aria-label="Data Message">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#temperature-and-voltage" class="md-nav__link">
    Temperature and Voltage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#position" class="md-nav__link">
    Position and Timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#position-quality" class="md-nav__link">
    Position Quality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flags" class="md-nav__link">
    Flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-data-message" class="md-nav__link">
    Example Data Message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    Parser
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ttn-mapper" class="md-nav__link">
    TTN-Mapper
  </a>
  
    <nav class="md-nav" aria-label="TTN-Mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration_1" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration" class="md-nav__link">
    Integration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disposal" class="md-nav__link">
    Disposal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdf-documentation" class="md-nav__link">
    PDF Documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="6.0.0/index.html" title="Manual V2" class="md-nav__link">
      Manual V2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="revisions.html" title="Hardware Revisions" class="md-nav__link">
      Hardware Revisions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      Usonic Distance Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Usonic Distance Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Usonic Distance Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      Temp. + rH. Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Temp. + rH. Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Temp. + rH. Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../humidity-temp-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../humidity-temp-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-8" type="checkbox" id="nav-2-8">
    
    <label class="md-nav__link" for="nav-2-8">
      Pressure Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Pressure Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Pressure Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-9" type="checkbox" id="nav-2-9">
    
    <label class="md-nav__link" for="nav-2-9">
      Environment Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Environment Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Environment Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../environment-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../environment-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-10" type="checkbox" id="nav-2-10">
    
    <label class="md-nav__link" for="nav-2-10">
      LoRaWAN Modbus Gateway
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="LoRaWAN Modbus Gateway" data-md-level="2">
      <label class="md-nav__title" for="nav-2-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        LoRaWAN Modbus Gateway
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lorawan-modbus-gateway/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      NB-IoT / LTE-M Sensors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="NB-IoT / LTE-M Sensors" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        NB-IoT / LTE-M Sensors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      wMBus Gateway
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="wMBus Gateway" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        wMBus Gateway
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../nbiot-sensors/wmbus-nbiot/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nbiot-sensors/wmbus-nbiot/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Background Articles
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Background Articles" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Background Articles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware.html" title="Hardware Variations" class="md-nav__link">
      Hardware Variations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/cron-expressions.html" title="CRON Expressions" class="md-nav__link">
      CRON Expressions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/lorawan.html" title="LoRaWAN" class="md-nav__link">
      LoRaWAN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/obis-codes.html" title="OBIS Codes" class="md-nav__link">
      OBIS Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/weee-disposal.html" title="WEEE Disposal" class="md-nav__link">
      WEEE Disposal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Lobaro Tools
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Lobaro Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Lobaro Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/lobaro-tool.html" title="Lobaro Maintenance Tool" class="md-nav__link">
      Lobaro Maintenance Tool
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/usb-config-adapter.html" title="USB Config Adapter" class="md-nav__link">
      USB Config Adapter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Lobaro IoT Platform
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Lobaro IoT Platform" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Lobaro IoT Platform
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/integrations.html" title="Integrations" class="md-nav__link">
      Integrations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/parser.html" title="Parser" class="md-nav__link">
      Parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/table-config.html" title="Table Config" class="md-nav__link">
      Table Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      Changelog
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Changelog" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Changelog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/changelog-frontend.html" title="Frontend" class="md-nav__link">
      Frontend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/changelog-backend.html" title="Backend" class="md-nav__link">
      Backend
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro-shop.com/" title="Lobaro Shop" class="md-nav__link">
      Lobaro Shop
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro.com/contact/" title="Contact / Impressum" class="md-nav__link">
      Contact / Impressum
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    Key Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    Quick-start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-the-gps-tracker" class="md-nav__link">
    Operating the GPS Tracker
  </a>
  
    <nav class="md-nav" aria-label="Operating the GPS Tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batteries" class="md-nav__link">
    Batteries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-cycle" class="md-nav__link">
    Work Cycle
  </a>
  
    <nav class="md-nav" aria-label="Work Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-phase" class="md-nav__link">
    Initial Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan-join-phase" class="md-nav__link">
    LoRaWAN Join Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-collection-phase" class="md-nav__link">
    GPS Collection Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-phase" class="md-nav__link">
    Data Transfer Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-sleep-phase" class="md-nav__link">
    Active Sleep Phase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passive-sleep-phase" class="md-nav__link">
    Passive Sleep Phase
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-lobaro-maintenance-tool" class="md-nav__link">
    The Lobaro Maintenance Tool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-the-usb-config-adapter" class="md-nav__link">
    Connecting the USB config adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-parameters" class="md-nav__link">
    System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorawan" class="md-nav__link">
    LoRaWAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps-configuration-parameters" class="md-nav__link">
    GPS configuration parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-expressions" class="md-nav__link">
    Cron expressions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#led-patterns" class="md-nav__link">
    LED patterns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lorawan-data-upload-formats" class="md-nav__link">
    LoRaWAN Data Upload Formats
  </a>
  
    <nav class="md-nav" aria-label="LoRaWAN Data Upload Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#numerical-values" class="md-nav__link">
    Numerical values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-message" class="md-nav__link">
    Status Message
  </a>
  
    <nav class="md-nav" aria-label="Status Message">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#firmware-and-version" class="md-nav__link">
    Firmware and Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-code" class="md-nav__link">
    Status Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reboot-reason" class="md-nav__link">
    Reboot reason
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-word" class="md-nav__link">
    Final word
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voltage" class="md-nav__link">
    Voltage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temperature" class="md-nav__link">
    Temperature
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-flags" class="md-nav__link">
    Flags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-message" class="md-nav__link">
    Data Message
  </a>
  
    <nav class="md-nav" aria-label="Data Message">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#temperature-and-voltage" class="md-nav__link">
    Temperature and Voltage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#position" class="md-nav__link">
    Position and Timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#position-quality" class="md-nav__link">
    Position Quality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flags" class="md-nav__link">
    Flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-data-message" class="md-nav__link">
    Example Data Message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    Parser
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ttn-mapper" class="md-nav__link">
    TTN-Mapper
  </a>
  
    <nav class="md-nav" aria-label="TTN-Mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration_1" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration" class="md-nav__link">
    Integration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disposal" class="md-nav__link">
    Disposal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdf-documentation" class="md-nav__link">
    PDF Documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/lobaro/docs/edit/master/docs/lorawan-sensors/gps-lorawan/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="gps-beidou-lorawan-tracker">GPS / BeiDou LoRaWAN Tracker</h1>
<div class="admonition info">
<p class="admonition-title">Different Hardware Revision</p>
<p>This manual is for the GPS-Tracker in hardware revision 3 running firmware starting 
with version 7.0.0. It is not compatible to older hardware revisions. If you have an 
older revision of the device or are unsure which revision you have, please refer to 
the <a href="revisions.html">Hardware Revisions Overview</a>, which also links to the manuals for 
each revision.</p>
</div>
<p><strong>GPS-LoRaWAN V3</strong> &ndash; Order number: <code>8000116</code> <br>
<img alt="Product Image" src="files/GPS-Tracker-V3-Open2-mitLogos2.jpg" style="height:500px;display: block; margin: 0 auto;" /></p>
<h2 id="key-features">Key Features</h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> LoRaWAN 1.0.x and 1.1 network servers supported</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> TTN-Mapper compatible</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Time synchronisation via GPS</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Simultaneous GPS and BeiDou support for better satellite coverage</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Configuration via USB or remotely via LoRaWAN downlink</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Visual Feedback through on-board LED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Power conserving when stationary (Passive Mode)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Integrated motion detector and temperature sensor</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Optional: complete Lobaro IoT Platform integration</li>
</ul>
<h2 id="overview">Overview</h2>
<p>The LoRaWAN GPS Tracker (GPS-LoRaWAN V3) is a battery powered tracking device, that
uses the satellite based positioning services <a href="https://en.wikipedia.org/Global_Positioning_System">GPS</a> 
and <a href="https://en.wikipedia.org/wiki/BeiDou">BeiDou</a> to determine its location and transmits the
obtained coordinates via LoRaWAN radio technology. Intervals between measurements can
be freely configured, in order to adjust the device to individual needs.<br />
An integrated motion sensor detects changes in the device's movement (if it is picked up or
transported in a vehicle). This allows the device to switch between an <code>Active Mode</code> in which
frequent updates are uploaded during phases of movement and an <code>Passive Mode</code> that saves
battery power by sending only few updates. While not sending updates, the device enters a
sleep mode that only uses 25 A (or ~14 A without motion sensor).  </p>
<p><strong>Please read the manual carefully before operating the device. A safe operation of the
device is only possible if you follow the guides provided in this manual. Using the device
differently than intended by Lobaro my cause damage to people, the environment, or
the device.</strong></p>
<h2 id="quick-start">Quick-start</h2>
<p>This is a basic guide to get the GPS-Tracker running using the free LoRaWAN-Network 
<a href="https://www.thethingsnetwork.org">The Things Network</a> (TTN).
TTN supply documentation that helps you in following this steps.
Any LoRaWAN-Network can be used. Refer to the rest of the manual for detailed information. </p>
<ul>
<li>Create an account on <a href="https://console.thethingsnetwork.org">The Things Network</a></li>
<li>Create a new application for the Lobaro GPS Tracker V3</li>
<li>Copy our <a href="#parser">Reference Parser</a> to your application</li>
<li>Create a new Device in your new application in TTN</li>
<li>Adjust the device parameters <code>DevEUI</code>, <code>AppEUI</code>/<code>JoinEUI</code>, and <code>AppKey</code>. Either change the 
  values in the TTN-Device entry or change the configuration of the GPS-Tracker using the 
  Lobaro Config Adapter</li>
<li>Make sure you have coverage by a TTN-Gateway and GPS (outside)</li>
<li>Insert batteries into the tracker</li>
<li>Check for data in TTN</li>
</ul>
<h2 id="operating-the-gps-tracker">Operating the GPS Tracker</h2>
<p>Once batteries are inserted into the device, it will start working. The Tracker will
most likely need to be adjusted to your personal LoRaWAN configuration (see chapter "Configuration").</p>
<h3 id="batteries">Batteries</h3>
<p>Please see our page on <a href="../../background/weee-disposal.html#batteries">Battery Disposal</a>.</p>
<p>The LoRaWAN GPS Tracker default power supply consists of two series connected off-theshelf
1.5V 'AA' sized batteries. Be sure to get the polarity right, see the '+'-Symbol on the
board. In general only AA cells of the types Alkali-Manganese (1.5V, LR6) and Lithium-Iron-
Sulphide (1.5V, FR6) are allowed to be inserted in the device. Lobaro recommends the use
of FR6 batteries like the Energizer Ultimate Lithium over LR6 types because of the higher
capacity and better discharge properties.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Other Batteries or accumulators with a nominal voltage of more than 1.5V must not inserted into the device under any circumstances. 
In particular, lithium based cells with a nominal voltage of 3.6V or 3.7V must not be used on the AA battery slots!</p>
</div>
<p>On request we can supply custom product variants with special housings powered by even
bigger batteries. For example a 3.6V C sized mono cell typically has a capacity of 9Ah with
leads to a 3x increased battery life compared to the standard AA-cells. With D sized cells of
typically 19Ah capacity this value can be doubled once again (6x). </p>
<h3 id="installation">Installation</h3>
<p>The device can be fixed on a flat surface using the lateral mounting holes of the case, see
<a href="../../hardware.html">Hardware Variations</a> for a detailed description of all housing dimensions. Alternatively we offer as
accessory a mounting clip for a standard 35mm DIN rail. The device can then easily snapped
on a such rails. It can therefore be added to a variety of racks alongside other devices.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Under any circumstances the device must not be mounted higher than 2 meters above ground to avoid any risks in case of falling down!</p>
</div>
<p>For optimal RF performance (e.g. LoRa range) any metal obstacles near the internal antenna
should be avoided. In this case 'near' is defined as keep-out distance of about 3-5 centimeters
around the antenna. The internal helix antenna can be identified by the winding pcb traces
on the right side of the board. In any case a device mounting directly
on top of a metal surface is not advisable since it will degrade the possible RF range. Stone
walls, wood or plastic standoffs are perfectly ok.
In case of challenging installation locations (e.g. in basements) or unavoidable long distances
to the next LoRaWAN gateway, Lobaro offers custom product variant equipped
with a 'SMA' connector to support a external antenna connection on request.</p>
<h2 id="work-cycle">Work Cycle</h2>
<p><div class="mermaid">graph LR;
    GPS(GPS Collection)
    Data(Data Transfer)
    Active(Active Sleep)
    Passive(Passive Sleep)
    init(Initial)==&gt;check(LoRaWAN Join);
    check(LoRaWAN Join)==&gt;GPS(GPS Collect.);
    Data==&gt;|recent movement|Active(Active Sleep);
    GPS==&gt;Data(Data Transfer);
    Active==&gt;|short time cron expression|GPS(GPS Collection);
    Data(Data Transfer)==&gt;|no recent movement|Passive(Passive Sleep);
    Passive==&gt;|movement or long time cron expression|GPS(GPS Collection);</div>
The GPS Tracker has a work cycle that adapts to detected motion of the device.</p>
<h4 id="initial-phase">Initial Phase</h4>
<p>This is the phase that is executed after the device is started of restarted. The LED flashes
once and the configuration is evaluated. If successful, the LoRaWAN Join phase is executed
next.</p>
<h4 id="lorawan-join-phase">LoRaWAN Join Phase</h4>
<p>If the Device is configured to use over the air activation (OTAA), the OTAA Join is performed
at this point. The device will repeatedly try to join its LoRaWAN network until the process
is successful. It then enters the Data Collection Phase.
If the Device is configured to use ABP instead of OTAA, this phase is left immediately and
the Data Collection Phase is entered.</p>
<h4 id="gps-collection-phase">GPS Collection Phase</h4>
<p>During the GPS Collection Phase the device will try to determine its coordinates (latitude,
longitude, and height) using GPS. You can identify this phase by the onboard LED flashing
on and off in one second intervals.
Once the position has been determined successfully (or the attempt timed out and failed,
because of bad GPS reception), the device enters the Data Transfer Phase.</p>
<p>During this phase the Tracker gives visual feedback over it's LED. See <a href="#led-patterns">LED Patterns</a>
for an explanation.</p>
<h4 id="data-transfer-phase">Data Transfer Phase</h4>
<p>During the Data Transfer Phase the Tracker uploads the GPS coordinates to the LoRaWAN
network. The message contains the information if the measurement was successful. Some
status information about the device are included as well.
For a detailed description of the data sent refer to "LoRaWAN Data Upload Formats".
After data transfer, the GPS Tracker enters a sleep state to save power. Depending on
how much time passed since the last physical movement of the device (determined by the
internal motion sensor), the Tracker enters diferent sleep phases. If the time since the last
detected motion is less than a timeout value (configurable, standard value is 65 minutes),
the device remains in <code>Active mode</code> enters only a short sleep phase (<code>Active Sleep</code>). If no
motion was detected for a time longer than the timeout, the device enters the <code>Passive Sleep</code>
Phase, which typically has a much longer sleeping time, but in which the device will also be
activated through movement.</p>
<h4 id="active-sleep-phase">Active Sleep Phase</h4>
<p>Even in Active Mode, the device spends most of its time in a deep sleep state to conserve
energy. The frequency with which the Tracker wakes up in Active Mode can be configured
using a Cron expression (see "GPS configuration parameters"). Typical values for active sleep time are 5 or 15
minutes.
When in Active Sleep Phase, the device will not be triggered to gather more GPS positions
through motion, but movement of the device will still be registered to keep the Tracker in
Active Mode.</p>
<h4 id="passive-sleep-phase">Passive Sleep Phase</h4>
<p>When no movement has been detected for a long amount of time (configurable), the device
stops sending updates, since there is not much point in sending frequent position information
when the device does not change its position. In Passive Mode, only very few updates are sent
to keep the network informed about the device's health. Typically one message is sent per
day in this mode (frequency can be configured with a cron expression, see "GPS configuration parameters").
When physical movement is detected by the internal motion sensor during this phase, the
GPS Tracker immediately wakes up and switches to Active Mode.</p>
<h2 id="configuration">Configuration</h2>
<h3 id="the-lobaro-maintenance-tool">The Lobaro Maintenance Tool</h3>
<p><img alt="Modbus LoRaWAN Bridge" src="files/maintenancetool.png" style="width:60%; display: block; margin: 0 auto;" /></p>
<p>The initial device configuration can be done very comfortably from your PC via the serial
configuration interface. Beside the needed Lobaro USB to UART adapter the 
<a href="../../tools/lobaro-tool.html" target="_blank"><strong>Lobaro Maintenance Tool</strong></a> needs to be installed. This tool is freely available for various operating systems
including Windows, Linux, Mac and Linux-ARM (e.g. Raspberry-PI) on and works with all
Lobaro sensors.</p>
<p>Technically this software opens a webserver on port 8585 that runs in a background console
window. The actual user interface can be accessed normally using a standard web browser
at address <a href="http://localhost:8585">http://localhost:8585</a>. Normally your default browser should be
opened with this URL automatically after tool startup . Even remote configuration and logobservation
over the Internet is possible, e.g. having a Raspberry PI via USB connected to
the Lobaro device and accessing the maintenance tool from a remote machines browser over
the Internet.</p>
<p>Additionally to the device setup the tool can also be used for firmware updates ('Firmware
Tab') , watching real-time device diagnostic output ('Logs Tab') and initiating device restarts.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Please note that the device might be restarted each time the configuration gets plugged/unplugged!</p>
</div>
<h3 id="connecting-the-usb-config-adapter">Connecting the USB config adapter</h3>
<p>For configuration and Firmware updates we provide a special serial-USB adapter that can be
connected as shown in the picture underneath. The corresponding connector on the PCB is marked with
the word 'Config'.</p>
<p>The USB-adapter will add a virtual serial 'COM' Port to your system. Your operating system
needs the <a href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers" target="_blank">CP210x USB to UART bridge</a> driver installed. A download link is provided next
to the 'Connect' button when you start the Maintenance Tool.
While the config adapter is connected, the device will be powered from the USB port with
a regulated voltage of 3.3V. It is not necessary - although it would be no problem - having
batteries inserted or a different supply connected while using the config adapter. All
configuration parameters will be kept non-volatile regardless of the power supply.</p>
<p><img alt="GPS Tracker" src="files/GPS-Tracker-V3-Config.png" style="width:50%; display: block; margin: 0 auto;" /></p>
<h3 id="system-parameters">System Parameters</h3>
<p>After being successfully connected to the hardware using the Lobaro Maintenance Tool you
can press 'Reload Config' in the 'Configuration' tab to read the current configuration from the
device. For every parameter a default value is stored non volatile inside the hardware to which
you can revert using the 'Restore default' button in case anything got miss configured.
All LoRaWAN &amp; other firmware parameters are explained in the following.</p>
<h3 id="lorawan">LoRaWAN</h3>
<p>The connection to the LoRaWAN network is defined by multiple configuration parameters.
This need to be set according to your LoRaWAN network and the way your device is 
supposed to be attached to it, or the device will not be able to send any data.</p>
<p>For a detailed introduction into how this values need to be configured, please 
refer to the chapter <a href="/background/lorawan.html#lorawan-configuration">LoRaWAN configuration</a> 
in our LoRaWAN background article.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OTAA</code></td>
<td>Activation: OTAA or ABP</td>
<td><code>bool</code></td>
<td><code>true</code>= use OTAA, <code>false</code>= use ABP</td>
</tr>
<tr>
<td><code>DevEUI</code></td>
<td>DevEUI used to identify the Device</td>
<td><code>byte[8]</code></td>
<td>e.g. <code>0123456789abcdef</code></td>
</tr>
<tr>
<td><code>JoinEUI</code></td>
<td>Used for OTAA (called AppEUI in v1.0)</td>
<td><code>byte[8]</code></td>
<td>e.g. <code>0123456789abcdef</code></td>
</tr>
<tr>
<td><code>AppKey</code></td>
<td>Key used for OTAA (v1.0 and v1.1)</td>
<td><code>byte[16]</code></td>
<td></td>
</tr>
<tr>
<td><code>NwkKey</code></td>
<td>Key used for OTAA (v1.1 only)</td>
<td><code>byte[16]</code></td>
<td></td>
</tr>
<tr>
<td><code>SF</code></td>
<td>Initial / maximum Spreading Factor</td>
<td><code>int</code></td>
<td><code>7</code> - <code>12</code></td>
</tr>
<tr>
<td><code>RndDelay</code></td>
<td>Random delay before sending</td>
<td><code>int</code></td>
<td>max seconds to wait</td>
</tr>
<tr>
<td><code>RemoteConf</code></td>
<td>Not supported by this firmware</td>
<td><code>bool</code></td>
<td><code>true</code>=enabled, <code>false</code>=deactivated</td>
</tr>
<tr>
<td><code>LostReboot</code></td>
<td>Days without downlink before reboot</td>
<td><code>int</code></td>
<td>days, <code>0</code>=don't reboot</td>
</tr>
</tbody>
</table>
<h3 id="gps-configuration-parameters">GPS configuration parameters</h3>
<p>The behaviour of the GPS Tracker and how it switches between its two operation modes
('Active' and 'Passive') can be adjusted to your needs. The table explains the configuration
parameters used for this.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>default value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>statusCron</code></td>
<td><code>string</code></td>
<td>Cron expression defining how often the device will Send a status message.</td>
<td><code>0 0 0 * * *</code></td>
</tr>
<tr>
<td><code>activeCron</code></td>
<td><code>string</code></td>
<td>Cron expression defining how often the device will take a measurement and send its position over LoRaWAN while the Tracker is in Active Mode. This expression should trigger much more frequent than the one for Passive Mode. The standard is 0 0/15 * * * *, which will trigger every 15 minutes. See <a href="#cron-expressions">Cron expressions</a> for an introduction to cron expressions.</td>
<td><code>0 0/15 * * * *</code></td>
</tr>
<tr>
<td><code>passiveCron</code></td>
<td><code>string</code></td>
<td>Cron expression defining how often the device will wake up when in Passive Mode. This should be less frequent than in Active Mode. The standard is 0 0 0/12 * * *, which translates to twice each day. See <a href="#cron-expressions">Cron expressions</a> for an introduction to cron expressions.</td>
<td><code>0 0 0/12 * * *</code></td>
</tr>
<tr>
<td><code>gpsTO</code></td>
<td><code>int</code></td>
<td>Time in seconds to wait for GPS to get a fix before timing out.</td>
<td><code>180</code> seconds</td>
</tr>
<tr>
<td><code>activeTO</code></td>
<td><code>int</code></td>
<td>Time in minutes without movement after which the Tracker switches to Passive Mode.</td>
<td><code>65</code> minutes</td>
</tr>
<tr>
<td><code>timeSyncGps</code></td>
<td><code>bool</code></td>
<td>Update internal clock from GPS signal?</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>memsTh</code></td>
<td><code>int</code></td>
<td>Threshold for the internal motion detector to register movement. Values range from 2 to 255. A higher value makes the device less sensitive.<br>2 Environment (wind or steps) may trigger.<br>5 Standard, picking up the device will activate it. <br> 20 Carefully picking it up will not trigger the device.<br>50 When carried, running will trigger, walking won't.<br>100+ Shaking will activate, dropping the device might not.</td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>maxHDOP</code></td>
<td><code>int</code></td>
<td>Maximum acceptable Horizontal Dilution Of Precision,  between 1 and 50, smaller is better</td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>maxDataAfterFix</code></td>
<td><code>int</code></td>
<td>If the HDOP target cannot be matched this value determines after how many datapackets with fix the position will be accepted</td>
<td><code>20</code></td>
</tr>
<tr>
<td><code>moveDist</code></td>
<td><code>int</code></td>
<td>(since 7.1.0) travelled distance in metres between two GPS-measurements, that counts as movment event</td>
<td><code>100</code></td>
</tr>
</tbody>
</table>
<h3 id="cron-expressions">Cron expressions</h3>
<p>Cron expressions are used to define specific points in time and regular repetitions of them.<br />
The schedule for data collecting phases is defined using the <a href="../../background/cron-expressions.html" target="_blank">CRON</a> format which is very
powerful format to define repeatedly occurring events.</p>
<div class="admonition info">
<p class="admonition-title">Internal Device's Clock</p>
<p>Standard Lobaro devices typically do not need to know the real time for proper operation. 
If time synchronisation is disabled (or did not succeed, yet), all times are relative to the 
initial time when batteries are inserted.</p>
<p>Also be aware that the internal clock runs using <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time">UTC</a>, 
so a cron expression triggering at midnight will trigger at one or two 'o clock in the morning in Germany, 
depenting on the status of daylight saving time.</p>
</div>
<p>A cron expression consists of 6 values separated by spaces:</p>
<ul>
<li>Seconds (0-59)</li>
<li>Minutes (0-59)</li>
<li>Hours (0-23)</li>
<li>Days (1-31)</li>
<li>Month (1-12)</li>
<li>Day of Week (SUN-SAT = 0-6)</li>
</ul>
<p>Examples of CRON definitions: <br></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0 5 * * * *</code></td>
<td>hourly at minute 5, second 0 (at 00:05:00, 01:05:00, ...)</td>
</tr>
<tr>
<td><code>0 1/10 * * * *</code></td>
<td>every 10 minutes from minute 1, second 0 (minutes 1, 11, 21, ...)</td>
</tr>
<tr>
<td><code>0 0 6 * * *</code></td>
<td>daily at 6:00:00</td>
</tr>
<tr>
<td><code>0 0 13 1,15 * *</code></td>
<td>1<sup>st</sup> and 15<sup>th</sup> day of every month at 13:00:00</td>
</tr>
<tr>
<td><code>0 0 9 1-5 * *</code></td>
<td>every month daily from day 1 till 5 at 9:00:00</td>
</tr>
</tbody>
</table>
<h2 id="led-patterns">LED patterns</h2>
<p>The GPS-Tracker gives visual feedback about it's operations using a green on-board LED.</p>
<table>
<thead>
<tr>
<th>Meaning</th>
<th>Pattern</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Device Start</td>
<td>&mdash; <br> single  second blink</td>
<td>Device just (re-)booted, testing LED</td>
</tr>
<tr>
<td>GPS active</td>
<td>&bull;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &bull;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &bull;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &bull;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &bull;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <br> short blinks every second</td>
<td>GPS module is active and Tracker is trying to get a Position Fix</td>
</tr>
<tr>
<td>GPS fix</td>
<td>&ndash; &ndash; <br> two long blinks</td>
<td>GPS process completed, valid position determined</td>
</tr>
<tr>
<td>GPS failed</td>
<td>&ndash; &bull; &bull; &bull; &bull; &bull; <br>one long and 5 short blinks</td>
<td>GPS process timed out, no position determined</td>
</tr>
</tbody>
</table>
<h2 id="lorawan-data-upload-formats">LoRaWAN Data Upload Formats</h2>
<div class="admonition info">
<p class="admonition-title">Compatibility note</p>
<p>Please be aware, that the payload format changed for the version 7.0.0 of the 
firmware. It is only party compatible to older payload formats. Refer to 
older manuals, for the legacy download format (see the <a href="revisions.html">Hardware Revision Overview</a> page).</p>
</div>
<p>The device uploads several different message types each with their own purpose and on their own port.</p>
<table>
<thead>
<tr>
<th>Port</th>
<th>Size</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1</code></td>
<td>14 bytes</td>
<td>Status Message, containing information about the status of the device.</td>
</tr>
<tr>
<td><code>2</code></td>
<td>23 bytes</td>
<td>Data Message, containing positional information gained by GNSS (GPS/Beidou).</td>
</tr>
<tr>
<td><code>128</code>-<code>131</code></td>
<td>varying</td>
<td>Responses to remote configuration commands.</td>
</tr>
</tbody>
</table>
<h3 id="numerical-values">Numerical values</h3>
<p>Numerical values are uploaded as integers. If a value needs a higher precision, it is encoded using 
a smaller unit, for example the measured temperature is transmitted in 10<sup>th</sup> C. The value can easily be 
converted to C by the parser in your network server. Integers are used signed or unsigned and in various 
sizes as needed, so unusual sized, like <code>int24</code> or <code>int40</code> can be found. All multi byte values are
encoded in <a href="https://en.wikipedia.org/wiki/Endianness">big endian</a> (Network Byte Order). 
See our <a href="#parser">Reference Parser</a> implementation to see how you can handle those values.</p>
<h3 id="status-message">Status Message</h3>
<p>After booting and joining the LoRaWAN-Network, the device uploads a Status Message on Port <code>1</code> that 
contains information about the device itself and state. This message is sent regularly, configured 
by the parameter <code>statusCron</code>. The default behaviour is to send the status message once every day. 
Lobaro recommends this setting to make sure you are always up to date on your devices whereabouts, 
and to make remote configuration reliable. The message has a fixed length of 14 bytes and is transmitted on port 1.
Byte positions are counted starting with 0.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Bytes</th>
<th>Type</th>
<th>Description</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>Firmware</td>
<td><code>0-2</code></td>
<td>char[3]</td>
<td>Firmware identifier</td>
<td>constant: <code>GPS</code></td>
</tr>
<tr>
<td>Version</td>
<td><code>3-5</code></td>
<td>uint8[3]</td>
<td>Three numbers indicating firmware version</td>
<td><code>0x07000a</code> = <code>v7.0.10</code></td>
</tr>
<tr>
<td>Status</td>
<td><code>6</code></td>
<td>uint8</td>
<td>Status Code indicating device's condition</td>
<td><code>0</code> = <code>OK</code></td>
</tr>
<tr>
<td>Reboot reason</td>
<td><code>7</code></td>
<td>uint8</td>
<td>Code indicating reason for last reboot</td>
<td><code>0x06</code> = Reset button pressed</td>
</tr>
<tr>
<td>Final words</td>
<td><code>8</code></td>
<td>uint8</td>
<td>reserved for future use</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Voltage</td>
<td><code>9-10</code></td>
<td>uint16</td>
<td>Battery voltage in mV</td>
<td><code>0x0c38</code> = <code>3128</code> = <code>3.128V</code></td>
</tr>
<tr>
<td>Temp</td>
<td><code>11-12</code></td>
<td>int16</td>
<td>Internal Temperature in 10<sup>th</sup> C</td>
<td><code>0x0102</code> = <code>258</code> = <code>25.8C</code></td>
</tr>
<tr>
<td>Flags</td>
<td><code>13</code></td>
<td>bit[8]</td>
<td>Application state</td>
<td><code>0b01</code> = passive mode, position valid</td>
</tr>
</tbody>
</table>
<h4 id="firmware-and-version">Firmware and Version</h4>
<p><em>Firmware</em> is a constant three byte value containing three ASCII chars, indicating what firmware is running 
on the device. For this firmware it is always 'GPS'.</p>
<p><em>Version</em> shows the version of the firmware running on the device, encoded as three independent <code>uint8</code> values.</p>
<h4 id="status-code">Status Code</h4>
<p><em>Status</em> is a numeric code transmitted as <code>uint8</code>, that gives a self diagnostic:</p>
<table>
<thead>
<tr>
<th>Status Code</th>
<th>Status Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td><code>OK</code></td>
<td>Normal operation, no problems detected.</td>
</tr>
<tr>
<td><code>101</code></td>
<td><code>GPS_ERROR</code></td>
<td>The devices GPS-Module does not respond.</td>
</tr>
<tr>
<td><code>102</code></td>
<td><code>MEMS_ERROR</code></td>
<td>The motion detector does not respond.</td>
</tr>
<tr>
<td><code>103</code></td>
<td><code>GPS_AND_MEMS_ERROR</code></td>
<td>Neither GPS-Module nor motion detector respond.</td>
</tr>
</tbody>
</table>
<h4 id="reboot-reason">Reboot reason</h4>
<p><em>Reboot reason</em> is a numeric code transmitted as <code>uint8</code>, that tells why the device did restart when 
it last booted (which might me a long time ago, the value is repeated in every status message).
This value is useful for troubleshooting and error detection. </p>
<table>
<thead>
<tr>
<th>Reboot Code</th>
<th>Reboot Reason</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1</code></td>
<td><code>LOW_POWER_RESET</code></td>
<td>Supply voltage broke, batteries might need replacing.</td>
</tr>
<tr>
<td><code>2</code></td>
<td><code>WINDOW_WATCHDOG_RESET</code></td>
<td></td>
</tr>
<tr>
<td><code>3</code></td>
<td><code>INDEPENDENT_WATCHDOG_RESET</code></td>
<td></td>
</tr>
<tr>
<td><code>4</code></td>
<td><code>SOFTWARE_RESET</code></td>
<td>Firmware triggered a reboot.</td>
</tr>
<tr>
<td><code>5</code></td>
<td><code>POWER_ON_RESET</code></td>
<td>Power was turned on / Batteries where inserted.</td>
</tr>
<tr>
<td><code>6</code></td>
<td><code>EXTERNAL_RESET_PIN_RESET</code></td>
<td>Reset button pressed / Reset by config adapter.</td>
</tr>
<tr>
<td><code>7</code></td>
<td><code>OBL_RESET</code></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="final-word">Final word</h4>
<p>This value is currently not used and reserved for future usage.</p>
<h4 id="voltage">Voltage</h4>
<p>Supply voltage fed into the device, either from battery of external power source. Gives an 
indication on the state of the battery used. The voltage is measured in millivolts (<code>mV</code>) and
transmitted as a <code>uint16</code>.</p>
<h4 id="temperature">Temperature</h4>
<p>The device has an internal temperature sensor, that is used to measure the temperature 
of the device itself. This can give an help get an idea where the device is located 
(inside/outside) and acts as a diagnostic in case of failure (if the device is exposed to 
hazardous temperatures). The temperature is measured in 10<sup>th</sup> of C and transmitted as an 
<code>int16</code>.</p>
<h4 id="status-flags">Flags</h4>
<p>Internal application state, see same value in <a href="#flags">Data Message</a>.</p>
<h3 id="data-message">Data Message</h3>
<p>After reading coordinated from GPS, the device uploads a data message containing the 
position data. This happens even when the device did not get a fix on it's position. 
If no new position could be determined, the last known valid position is uploaded 
(together with a timestamp of when that position was valid). This makes it possible to 
get position data, even if the Tracker does not have GPS coverage and LoRaWAN coverage at 
the same time.</p>
<p>The data message is 28 bytes long and transmitted on port 2.
The message is partly compatible with the data message of older firmware (versions 5 and 6); 
only new values have been appended at the end. Byte positions are counted starting with 0.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Bytes</th>
<th>Type</th>
<th>Description</th>
<th>Values/Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>Temperature</td>
<td><code>0-1</code></td>
<td>int16</td>
<td>Internal Temperature in 10<sup>th</sup> C</td>
<td><code>0x0102</code> = <code>258</code> = <code>25.8C</code></td>
</tr>
<tr>
<td>Voltage</td>
<td><code>2-3</code></td>
<td>uint16</td>
<td>Battery voltage in mV</td>
<td><code>0x0c38</code> = <code>3128</code> = <code>3.128V</code></td>
</tr>
<tr>
<td>Latitude</td>
<td><code>4-7</code></td>
<td>int32</td>
<td>Degrees Latitude  * 100000</td>
<td><code>-9000000</code>&ndash;<code>9000000</code></td>
</tr>
<tr>
<td>Longitude</td>
<td><code>8-11</code></td>
<td>int32</td>
<td>Degrees Longitude * 100000</td>
<td><code>-18000000</code>&ndash;<code>18000000</code></td>
</tr>
<tr>
<td>Altitude</td>
<td><code>12-14</code></td>
<td>int24</td>
<td>Altitude in cm</td>
<td><code>0x0034c6</code> = <code>13510</code> = <code>135.1m</code></td>
</tr>
<tr>
<td>Flags</td>
<td><code>15</code></td>
<td>bit[8]</td>
<td>Application state</td>
<td><code>0b01</code> = passive mode, position valid</td>
</tr>
<tr>
<td>SatCnt</td>
<td><code>16</code></td>
<td>uint8</td>
<td>Number of satellites used for fix</td>
<td><code>0x06</code> = <code>6</code></td>
</tr>
<tr>
<td>HDOP</td>
<td><code>17</code></td>
<td>uint8</td>
<td>1/10 * <a href="https://de.wikipedia.org/wiki/Dilution_of_Precision">Horizontal Dilution of Precision</a></td>
<td><code>0x0f</code> = <code>15</code> = <code>HDOP 1.5</code></td>
</tr>
<tr>
<td>Timestamp</td>
<td><code>18-22</code></td>
<td>int40</td>
<td>UNIX Timestamp of position data in message (0 for never)</td>
<td><code>0x005eccd15f</code> = <code>1590481247</code> = <code>2020-05-26T08:20:47</code> UTC</td>
</tr>
<tr>
<td>Movement</td>
<td><code>23-27</code></td>
<td>int40</td>
<td>(since 7.1.0) UNIX Timestamp of last movement event (0 for never). Either MEMS or GPS movement</td>
<td><code>0x005eccd15f</code> = <code>1590481247</code> = <code>2020-05-26T08:20:47</code> UTC</td>
</tr>
</tbody>
</table>
<h4 id="temperature-and-voltage">Temperature and Voltage</h4>
<p>Same as in Status Message, useful for checking the health of the device.</p>
<h4 id="position">Position and Timestamp</h4>
<p>The Position data is the main purpose of the Tracker. It is always combined with a timestamp. This timestamp is 
independent of the internal clock of the Tracker, but taken directly from the GPS data. It is therefore the 
exact point of time that the position was determined. The time is encoded as a 
<a href="https://en.wikipedia.org/wiki/Unix_time">UNIX-Timestamp</a>. 
A value of <code>0</code> (which translates to <code>1970-01-01T00:00:00</code>) indicates that the Tracker did never get a fix 
on it's position. So if the timestamp is <code>0</code> the position data is invalid. If there is a timestamp <code>&gt; 0</code>, the 
transmitted position data always refers to a valid position (even if the Flag <em>Position Valid</em> is <code>0</code>), 
but at the indicated time. So the position could be quite outdated. 
This behaviour ensures that valid position information can be transmitted to the backend, 
even if the Tracker never has GPS-coverage and a LoRaWAN-connection at the same time. </p>
<div class="admonition info">
<p class="admonition-title">Advice for use with TTN-Mapper</p>
<p>If you are using the device with TTN-Mapper, you must make sure that those outdated positions 
are not sent to TTN-Mapper! See <a href="#ttn-mapper">TTN-Mapper</a> for details.</p>
</div>
<p>The Position is encoded as signed <em>Latitude</em> and <em>Longitude</em> with five decimal digits of precision, 
put into two <code>int32</code> values. Divided by 100000 you get the degrees. Positive values stand for North/East, 
negative values for South/West.</p>
<p>The <em>Altitude</em> is encoded as cm in an <code>int24</code>.</p>
<p>The the <a href="#example-data-message">Example Data Message</a> and the <a href="#parser">Reference Parser</a> for further 
documentation.</p>
<h4 id="position-quality">Position Quality</h4>
<p><em>SatCnt</em> and <em>HDOP</em> are indicators for how good the position in the data message is.</p>
<p><em>SatCnt</em> is a <code>uint8</code> that gives the number of satellites that were used for calculating the coordinates 
(more is better). The minimal number for a fix is 4. 10 satellites and more are a good value.</p>
<p><em>HDOP</em> is the <a href="https://en.wikipedia.org/wiki/Dilution_of_precision_(navigation)">Horizontal Dilution of Precision</a>. 
That is a dimensionless value that indicates how precise the position can be for the current satellites' positions. 
The HDOP is transmitted multiplied by 10 as a <code>uint8</code>, so you need to divide it by 10 to get the actual HDOP, and 
it maxes out at <code>25.5</code>, which is a terrible rating. Values of <code>1</code> and below are ideal, values up to <code>5</code> are considered 
good.</p>
<div class="admonition info">
<p class="admonition-title">Quality of GPS data</p>
<p>Please be aware that position data generated using GPS and other GNSS systems has certain physical
limitations in its precision. This is mainly caused by signal distortions in the atmosphere and when 
signals are reflected by walls (multipath effects). Therefore even with high <em>SatCnt</em> and ideal 
<em>HDOP</em>, the calculated position can be far of the actual position. For an introduction into the topic,
you can start at <a href="https://en.wikipedia.org/wiki/Error_analysis_for_the_Global_Positioning_System">Error_analysis_for_the_Global_Positioning_System on Wikipedia</a>.</p>
</div>
<h4 id="flags">Flags</h4>
<p>The status Flag indicates the current conditions inside the application. Only two bits are used. Bit counting 
starts with the least significant bit with <code>0</code>.</p>
<table>
<thead>
<tr>
<th>Bit</th>
<th>Meaning</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>Position currently valid</td>
<td><code>0</code> = not valid, <code>1</code> = valid</td>
</tr>
<tr>
<td><code>1</code></td>
<td>Current operation mode</td>
<td><code>0</code> = Passive Mode, <code>1</code> = Active Mode</td>
</tr>
</tbody>
</table>
<p>The <em>Position valid</em> flag indicates if the device did get a fix on it's position just before sending 
the upload. So it indicates if the message contains a new valid position. Any position uploaded with 
a valid timestamp is a real measured position taken at that time. See <a href="#position">Position</a> for details.</p>
<h4 id="example-data-message">Example Data Message</h4>
<div class="highlight"><pre><span></span><code>Payload on Port 2: &#39;00D40BC40051B427000F45DA0016A803060F005ECCCE29005ECCCE20&#39;
-------------------------------------------------------------------
&#39;00D4&#39; - Temperature
    0x00d4 = 212 = 21.2C
&#39;0BC4&#39; - Voltage
    0x0bc4 = 3012 = 3.012V
&#39;0051B427&#39; - Latitude
    0x0051b427 = 5354535 = 53.54535N = N 53 32&#39; 43.26&quot;
&#39;000F45DA&#39; - Longitude
    0x000f45da = 1000922 = 10.00922E = E 10  0&#39; 33.19&quot;
&#39;0016A8&#39; - Altitude
    0x0016a8 = 5800 = 58m
&#39;03&#39; - Flags
    0x03 = 0b11 = Mode Active, Position current and valid
&#39;06&#39; - SatCnt
    0x06 = 6 = 6 Satellites
&#39;0F&#39; - HDOP
    0x0f = 15 = 1.5 HDOP
&#39;005ECCCE29&#39;
    0x005eccce29 = 1590480425 = 2020-05-26T08:07:05 UTC
&#39;005ECCCE20&#39;
    0x005eccce20 = 1590480416 = 2020-05-26T08:06:56 UTC
</code></pre></div>

<h2 id="parser">Parser</h2>
<p>Here is a reference message parser written in JavaScript, that can be used in 
<a href="https://www.thethingsnetwork.org/">The Things Network</a> to parse the Status Message and Data Message 
into JSON objects. If you are using your device with TTN-Mapper, please read the advices on how 
to modify parser and configuration under <a href="#ttn-mapper">TTN-Mapper</a>.</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * Parser for Lobaro GPS-Tracker v3 to be used in The Things Network</span>
<span class="cm"> *</span>
<span class="cm"> * When used with TTN-Mapper integration set global variable</span>
<span class="cm"> * TTN_MAPPER to false. See https://docs.lobaro.com for details.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2020 Lobaro GmbH - https://www.lobaro.com</span>
<span class="cm"> * Free to be used under MIT License:</span>
<span class="cm"> * </span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> */</span>

<span class="cm">/* === CONFIG === */</span>
<span class="c1">// Set this to true, if you are using TTN-Mapper integration. This avoids sending </span>
<span class="c1">// outdated positions that TTN-Mapper would use as new data.</span>
<span class="kd">var</span> <span class="nx">TTN_MAPPER</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="cm">/* Helper functions used by this parser */</span>
<span class="kd">function</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="nx">bits</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="nx">val</span> <span class="o">&amp;</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">bits</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// value is negative (16bit 2&#39;s complement)</span>
        <span class="kd">var</span> <span class="nx">mask</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">bits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">val</span> <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="nx">val</span> <span class="o">&amp;</span> <span class="nx">mask</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// invert all bits &amp; add 1 =&gt; now positive value</span>
        <span class="nx">val</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">uint40_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span> <span class="o">|</span>
        <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">24</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">uint32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">24</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">uint24_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">uint16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">int40_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">uint40_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">),</span> <span class="mi">40</span><span class="p">);}</span>
<span class="kd">function</span> <span class="nx">int32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">uint32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">),</span> <span class="mi">32</span><span class="p">);}</span>
<span class="kd">function</span> <span class="nx">int24_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">uint24_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">),</span> <span class="mi">24</span><span class="p">);}</span>
<span class="kd">function</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="nx">signed</span><span class="p">(</span><span class="nx">uint16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">),</span> <span class="mi">16</span><span class="p">);}</span>
<span class="kd">function</span> <span class="nx">readVersion</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="s2">&quot;v&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Decode status/error codes from GPS-Tracker to human readable tags.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">decode_status_code</span><span class="p">(</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">101</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;GPS_ERROR&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">102</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;MEMS_ERROR&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">103</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;GPS_AND_MEMS_ERROR&quot;</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;UNKNOWN&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Decode reboot reason explaining last reboot of device.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">decode_reboot_reason</span><span class="p">(</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// STM reboot code from our HAL:</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;LOW_POWER_RESET&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;WINDOW_WATCHDOG_RESET&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;INDEPENDENT_WATCHDOG_RESET&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;SOFTWARE_RESET&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">5</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;POWER_ON_RESET&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;EXTERNAL_RESET_PIN_RESET&quot;</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;OBL_RESET&quot;</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">return</span> <span class="s2">&quot;UNKNOWN&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DecoderPort2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Data Message containing position data.</span>
    <span class="kd">var</span> <span class="nx">Temp</span> <span class="o">=</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">VBat</span> <span class="o">=</span> <span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Lat</span> <span class="o">=</span> <span class="nx">int32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Lon</span> <span class="o">=</span> <span class="nx">int32_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Alt</span> <span class="o">=</span> <span class="nx">int24_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Valid</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0x01</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">Active</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0x02</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">SatCnt</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">Hdop</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span> <span class="o">/</span> <span class="mi">10</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Time</span> <span class="o">=</span> <span class="nx">int40_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">18</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">TTN_MAPPER</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">Valid</span><span class="p">))</span> <span class="p">{</span>
      <span class="c1">// TTN-Mapper specific:</span>
      <span class="c1">// Position is not valid, so this is outdated data. TTN-Mapper cannot handle those</span>
      <span class="c1">// so we drop this packet on purpose:</span>
      <span class="k">return</span> <span class="p">{};</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;temperature&quot;</span><span class="o">:</span> <span class="nx">Temp</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;voltage&quot;</span><span class="o">:</span> <span class="nx">VBat</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="o">:</span> <span class="nx">Lat</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="o">:</span> <span class="nx">Lon</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;altitude&quot;</span><span class="o">:</span> <span class="nx">Alt</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;valid&quot;</span><span class="o">:</span> <span class="nx">Valid</span><span class="p">,</span>
        <span class="s2">&quot;active&quot;</span><span class="o">:</span> <span class="nx">Active</span><span class="p">,</span>
        <span class="s2">&quot;satellites&quot;</span><span class="o">:</span> <span class="nx">SatCnt</span><span class="p">,</span>
        <span class="s2">&quot;hdop&quot;</span><span class="o">:</span> <span class="nx">Hdop</span><span class="p">,</span>
        <span class="s2">&quot;time&quot;</span><span class="o">:</span> <span class="nx">Time</span> <span class="o">*</span> <span class="mi">1000</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DecoderStatus</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">firmware</span> <span class="o">=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="nx">readVersion</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">status_code</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">status_text</span> <span class="o">=</span> <span class="nx">decode_status_code</span><span class="p">(</span><span class="nx">status_code</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">reboot_code</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">reboot_reason</span> <span class="o">=</span> <span class="nx">decode_reboot_reason</span><span class="p">(</span><span class="nx">reboot_code</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">final_code</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">vcc</span> <span class="o">=</span> <span class="p">(</span><span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">||</span> <span class="mf">0.0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="p">(</span><span class="nx">int16_BE</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">||</span> <span class="o">-</span><span class="mh">0x8000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">app_data</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;firmware&quot;</span><span class="o">:</span> <span class="nx">firmware</span><span class="p">,</span>
        <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="nx">version</span><span class="p">,</span>
        <span class="s2">&quot;status_code&quot;</span><span class="o">:</span> <span class="nx">status_code</span><span class="p">,</span>
        <span class="s2">&quot;status_text&quot;</span><span class="o">:</span> <span class="nx">status_text</span><span class="p">,</span>
        <span class="s2">&quot;reboot_code&quot;</span><span class="o">:</span> <span class="nx">reboot_code</span><span class="p">,</span>
        <span class="s2">&quot;reboot_reason&quot;</span><span class="o">:</span> <span class="nx">reboot_reason</span><span class="p">,</span>
        <span class="s2">&quot;final_code&quot;</span><span class="o">:</span> <span class="nx">final_code</span><span class="p">,</span>
        <span class="s2">&quot;temperature&quot;</span><span class="o">:</span> <span class="nx">temp</span><span class="p">,</span>
        <span class="s2">&quot;voltage&quot;</span><span class="o">:</span> <span class="nx">vcc</span><span class="p">,</span>
        <span class="s2">&quot;app_data&quot;</span><span class="o">:</span> <span class="nx">app_data</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DecoderPort1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">DecoderStatus</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">flags</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">app_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="mh">0x00</span><span class="p">;</span>
    <span class="nx">d</span><span class="p">.</span><span class="nx">valid</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="mh">0x01</span><span class="p">);</span>
    <span class="nx">d</span><span class="p">.</span><span class="nx">active</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="mh">0x02</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">d</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Decoder</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
            <span class="c1">// Port 1: Status Message</span>
            <span class="k">return</span> <span class="nx">DecoderPort1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
            <span class="c1">// Port 2: Data Message (containing position data)</span>
            <span class="k">return</span> <span class="nx">DecoderPort2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="o">:</span><span class="s2">&quot;Unsupported port&quot;</span><span class="p">,</span><span class="s2">&quot;port&quot;</span><span class="o">:</span><span class="nx">port</span><span class="p">};</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="ttn-mapper">TTN-Mapper</h2>
<p><a href="https://ttnmapper.org" target="_blank">TTN-Mapper</a> is a community project that tries to create a global 
map of LoRaWAN-Coverage of the open LoRaWAN Network <a href="https://www.thethingsnetwork.org/">The Things Network</a>.
Anyone with a compatible GPS-capable LoRaWAN-device can contribute to the project by submitting their data.</p>
<p>The Lobaro LoRaWAN GPS-Tracker can easily be used as a TTN-Mapper Node, as it uploads <em>Latitude</em>, <em>Longitude</em>, <em>Altitude</em>, 
and <em>Horizontal Dilution of Precision (HDOP)</em>. The device should be setup with a specific configuration, and 
the parser used in TTN for the device must be slightly adjusted to stop outdated position data to be used 
in the mapper.</p>
<h3 id="configuration_1">Configuration</h3>
<p>The device can be used either with OTAA or ABP. The EUIs and Keys must be set accordingly to activate the 
device in TTN. The remaining configuration values can mostly remain on default value. A few should be adjusted 
as follows:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SF</code></td>
<td><code>7</code></td>
<td>Spreading Factor should be set to 7 according to TTN-Mapper documentation.</td>
</tr>
<tr>
<td><code>ADR</code></td>
<td><code>false</code></td>
<td>Adaptive Data Rate should be deactivated for mobile devices.</td>
</tr>
<tr>
<td><code>OpMode</code></td>
<td><code>A</code></td>
<td>No Downlinks needed.</td>
</tr>
<tr>
<td><code>TimeSync</code></td>
<td><code>0</code></td>
<td>Not supported by TTN, time is synced from GPS signal.</td>
</tr>
<tr>
<td><code>RndDelay</code></td>
<td><code>0</code></td>
<td>Random delay would distort position while moving.</td>
</tr>
<tr>
<td><code>activeCron</code></td>
<td><code>0 0/3 * * * *</code></td>
<td>Suggestion that uploads position every minute while active. Adjust as needed.</td>
</tr>
<tr>
<td><code>activeTO</code></td>
<td><code>5</code></td>
<td>Switch to passive mode after 5 minutes without movement.</td>
</tr>
<tr>
<td>### Parser</td>
<td></td>
<td></td>
</tr>
<tr>
<td>The payload format decoder must be slightly adjusted for the use of TTN-Mapper, because the Lobaro GPS-Tracker will</td>
<td></td>
<td></td>
</tr>
<tr>
<td>upload it's latest known valid position when no GPS-fix can be achieved (indicating so by a flag and giving the</td>
<td></td>
<td></td>
</tr>
<tr>
<td>timestamp of the localisation). TTN-Mapper would parse that as a new valid position, so the parser <strong>must drop</strong> those</td>
<td></td>
<td></td>
</tr>
<tr>
<td>messages in order to stop wrong data points to end up in TTN-Mapper.</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Change the line at the top of the parser from to activate TTN_MAPPER conformity:
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">TTN_MAPPER</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</code></pre></div></p>
<p>Replace it with this line:
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">TTN_MAPPER</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></div></p>
<h3 id="integration">Integration</h3>
<p>Add an integration for your TTN-Application as described under 
<a href="https://www.thethingsnetwork.org/docs/applications/ttnmapper/" target="_blank">https://www.thethingsnetwork.org/docs/applications/ttnmapper/</a>.
The Port filter must be set to <code>2</code>. </p>
<p>You can use the TTN Mapper integration side by side with other integrations that connect to your backend/platform, 
so that you get the data from the GPS-Tracker while also sending them to TTN-Mapper.</p>
<h2 id="technical-characteristics">Technical characteristics</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Product</strong></td>
<td></td>
</tr>
<tr>
<td>Type name</td>
<td>GPS-LoRaWAN 3</td>
</tr>
<tr>
<td>Description</td>
<td>LoRaWAN GPS Tracker HW3</td>
</tr>
<tr>
<td><strong>RF transceiver</strong></td>
<td></td>
</tr>
<tr>
<td>Chipset</td>
<td>Semtech SX1272</td>
</tr>
<tr>
<td>Frequency Range</td>
<td>863 to 870 MHz</td>
</tr>
<tr>
<td>TX Power</td>
<td> 14 dBm</td>
</tr>
<tr>
<td>Typically RF range</td>
<td> 2km</td>
</tr>
<tr>
<td>Ideal RF range</td>
<td> 10km (free line of sight)</td>
</tr>
<tr>
<td><strong>LoRa communication</strong></td>
<td></td>
</tr>
<tr>
<td>LoRaWAN Protocol</td>
<td>LoRaWAN 1.0.1, 1.0.3, 1.1.0, Class A/C, EU868</td>
</tr>
<tr>
<td>Activation method</td>
<td>Over-the-air activation (OTAA) <br> Activation by personalization (ABP)</td>
</tr>
<tr>
<td>Encryption</td>
<td>AES128</td>
</tr>
<tr>
<td><strong>Power</strong></td>
<td></td>
</tr>
<tr>
<td>Power supply</td>
<td>2xAA sized battery, 1.5 V, LR6/FR6</td>
</tr>
<tr>
<td>Supply voltage</td>
<td>UNom = 3.0V, UMin = 2.2V, UMax = 3.7V</td>
</tr>
<tr>
<td>Capacity</td>
<td> 30000 LoRaWAN messages @SF11</td>
</tr>
<tr>
<td><strong>Current consumption @3V</strong></td>
<td></td>
</tr>
<tr>
<td>Normal</td>
<td>3 mA</td>
</tr>
<tr>
<td>Wireless M-BUS RX</td>
<td>14 mA</td>
</tr>
<tr>
<td>LoRa RX</td>
<td>14 mA</td>
</tr>
<tr>
<td>LoRa TX</td>
<td>80 mA</td>
</tr>
<tr>
<td>Sleep with GPS standby and MEMS running</td>
<td>20 A</td>
</tr>
<tr>
<td><strong>Mechanical dimensions</strong></td>
<td></td>
</tr>
<tr>
<td>Size</td>
<td>114.3 mm x 59.3 mm x 26.8 mm</td>
</tr>
<tr>
<td>Housing Material</td>
<td>ABS plastic</td>
</tr>
<tr>
<td><strong>Environmental Requirements</strong></td>
<td></td>
</tr>
<tr>
<td>Operating temperature range</td>
<td>-20C to +55C</td>
</tr>
<tr>
<td>Max. Installation height</td>
<td>2m</td>
</tr>
<tr>
<td><strong>Conformity</strong></td>
<td></td>
</tr>
<tr>
<td><img title="CE" alt="CE logo" src="/img/symbol-ce.svg" style="height:60px;"> <img title="weee" title="weee logo" src="/img/symbol-weee.svg" style="height:60px;"></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="disposal">Disposal</h2>
<p>For information on disposal of the <em>LoRaWAN GPS-Tracker V3</em>, please refer to our page on 
<a href="../../background/weee-disposal.html">Disposal of Lobaro Devices</a>.</p>
<h2 id="pdf-documentation">PDF Documentation</h2>
<ul>
<li><a href="files/Lobaro-Compact-Housing.pdf" target="_blank">Product Dimensions (pdf)</a></li>
<li><a href="files/scan-ce-conformity-gps-lorawan.pdf">CE Declaration of Conformity</a></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../1-wire-lorawan/firmware.html" title="Firmware & Changelog" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Firmware & Changelog
              </div>
            </div>
          </a>
        
        
          <a href="6.0.0/index.html" title="Manual V2" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Manual V2
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Lobaro GmbH
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.c3dc8c49.min.js"></script>
      <script src="../../assets/javascripts/bundle.f9edbbd5.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/mermaid.min.js"></script>
      
        <script src="../../js/simple-lightbox.js"></script>
      
    
  </body>
</html>