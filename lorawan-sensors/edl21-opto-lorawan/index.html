


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Online documentation of the Lobaro GmbH, Industrial IoT Solutions. Manuals for our IoT Devices.">
      
      
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.2.3">
    
    
      
        <title>Manual - Lobaro Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6e35a1a6.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CCousine&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Cousine",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/lobarodoc.css">
    
      <link rel="stylesheet" href="../../css/simple-lightbox.min.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-69919312-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="indigo">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#edl21-electricity-meter-lorawan-bridge" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Lobaro Documentation" class="md-header-nav__button md-logo" aria-label="Lobaro Documentation">
      
  <img src="../../img/lobaro-rings-circle.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Lobaro Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Manual
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lobaro Documentation" class="md-nav__button md-logo" aria-label="Lobaro Documentation">
      
  <img src="../../img/lobaro-rings-circle.svg" alt="logo">

    </a>
    Lobaro Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/lobaro/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Documentation Start" class="md-nav__link">
      Documentation Start
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      LoRaWAN Sensors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="LoRaWAN Sensors" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        LoRaWAN Sensors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      wMBUS Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="wMBUS Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        wMBUS Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wmbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Modbus Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Modbus Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Modbus Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modbus-lorawan/versions.html" title="Versions" class="md-nav__link">
      Versions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked>
    
    <label class="md-nav__link" for="nav-2-3">
      EDL21 Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="EDL21 Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        EDL21 Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Manual
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="index.html" title="Manual" class="md-nav__link md-nav__link--active">
      Manual
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#top-features" class="md-nav__link">
    Top Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compatible-utility-meters" class="md-nav__link">
    Compatible utility meters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#product-variants" class="md-nav__link">
    Product variants
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lorawan" class="md-nav__link">
    LoRaWAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operation" class="md-nav__link">
    Operation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#led-blinking-patterns" class="md-nav__link">
    LED blinking patterns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendices" class="md-nav__link">
    Appendices
  </a>
  
    <nav class="md-nav" aria-label="Appendices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disposal-weee-entsorgung" class="md-nav__link">
    Disposal / WEEE / Entsorgung
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payload-format-status-packet-port-1" class="md-nav__link">
    Payload Format Status Packet (Port 1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payload-format-old-port-2-without-exponent" class="md-nav__link">
    Payload Format (old, Port 2, without exponent)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payload-format-new-port-3-with-exponent" class="md-nav__link">
    Payload Format (new, Port 3, with exponent)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-decoder" class="md-nav__link">
    Reference decoder
  </a>
  
    <nav class="md-nav" aria-label="Reference decoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-parser-result" class="md-nav__link">
    Example parser result
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ce-declaration-of-conformity" class="md-nav__link">
    CE Declaration of Conformity
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      1-Wire Bridge
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="1-Wire Bridge" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        1-Wire Bridge
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../1-wire-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      GPS Tracker
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="GPS Tracker" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        GPS Tracker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gps-lorawan/index.html" title="Manual V3" class="md-nav__link">
      Manual V3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gps-lorawan/6.0.0/index.html" title="Manual V2" class="md-nav__link">
      Manual V2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gps-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gps-lorawan/revisions.html" title="Hardware Revisions" class="md-nav__link">
      Hardware Revisions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      Usonic Distance Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Usonic Distance Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Usonic Distance Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usonic-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      Temp. + rH. Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Temp. + rH. Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Temp. + rH. Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../humidity-temp-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../humidity-temp-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-8" type="checkbox" id="nav-2-8">
    
    <label class="md-nav__link" for="nav-2-8">
      Pressure Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Pressure Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Pressure Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pressure-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-9" type="checkbox" id="nav-2-9">
    
    <label class="md-nav__link" for="nav-2-9">
      Environment Sensor
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Environment Sensor" data-md-level="2">
      <label class="md-nav__title" for="nav-2-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Environment Sensor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../environment-lorawan/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../environment-lorawan/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-10" type="checkbox" id="nav-2-10">
    
    <label class="md-nav__link" for="nav-2-10">
      LoRaWAN Modbus Gateway
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="LoRaWAN Modbus Gateway" data-md-level="2">
      <label class="md-nav__title" for="nav-2-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        LoRaWAN Modbus Gateway
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lorawan-modbus-gateway/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      NB-IoT / LTE-M Sensors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="NB-IoT / LTE-M Sensors" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        NB-IoT / LTE-M Sensors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      wMBus Gateway
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="wMBus Gateway" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        wMBus Gateway
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../nbiot-sensors/wmbus-nbiot/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nbiot-sensors/wmbus-nbiot/firmware.html" title="Firmware & Changelog" class="md-nav__link">
      Firmware & Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Background Articles
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Background Articles" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Background Articles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware.html" title="Hardware Variations" class="md-nav__link">
      Hardware Variations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/cron-expressions.html" title="CRON Expressions" class="md-nav__link">
      CRON Expressions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/lorawan.html" title="LoRaWAN" class="md-nav__link">
      LoRaWAN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/obis-codes.html" title="OBIS Codes" class="md-nav__link">
      OBIS Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../background/weee-disposal.html" title="WEEE Disposal" class="md-nav__link">
      WEEE Disposal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Lobaro Tools
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Lobaro Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Lobaro Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/lobaro-tool.html" title="Lobaro Maintenance Tool" class="md-nav__link">
      Lobaro Maintenance Tool
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/usb-config-adapter.html" title="USB Config Adapter" class="md-nav__link">
      USB Config Adapter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Lobaro IoT Platform
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Lobaro IoT Platform" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Lobaro IoT Platform
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/index.html" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/integrations.html" title="Integrations" class="md-nav__link">
      Integrations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/parser.html" title="Parser" class="md-nav__link">
      Parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/table-config.html" title="Table Config" class="md-nav__link">
      Table Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      Changelog
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Changelog" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Changelog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/changelog-frontend.html" title="Frontend" class="md-nav__link">
      Frontend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../platform/changelog-backend.html" title="Backend" class="md-nav__link">
      Backend
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro-shop.com/" title="Lobaro Shop" class="md-nav__link">
      Lobaro Shop
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://www.lobaro.com/contact/" title="Contact / Impressum" class="md-nav__link">
      Contact / Impressum
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#top-features" class="md-nav__link">
    Top Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compatible-utility-meters" class="md-nav__link">
    Compatible utility meters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#product-variants" class="md-nav__link">
    Product variants
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lorawan" class="md-nav__link">
    LoRaWAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operation" class="md-nav__link">
    Operation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#led-blinking-patterns" class="md-nav__link">
    LED blinking patterns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendices" class="md-nav__link">
    Appendices
  </a>
  
    <nav class="md-nav" aria-label="Appendices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-characteristics" class="md-nav__link">
    Technical characteristics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disposal-weee-entsorgung" class="md-nav__link">
    Disposal / WEEE / Entsorgung
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payload-format-status-packet-port-1" class="md-nav__link">
    Payload Format Status Packet (Port 1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payload-format-old-port-2-without-exponent" class="md-nav__link">
    Payload Format (old, Port 2, without exponent)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payload-format-new-port-3-with-exponent" class="md-nav__link">
    Payload Format (new, Port 3, with exponent)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-decoder" class="md-nav__link">
    Reference decoder
  </a>
  
    <nav class="md-nav" aria-label="Reference decoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-parser-result" class="md-nav__link">
    Example parser result
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ce-declaration-of-conformity" class="md-nav__link">
    CE Declaration of Conformity
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/lobaro/docs/edit/master/docs/lorawan-sensors/edl21-opto-lorawan/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="edl21-electricity-meter-lorawan-bridge">EDL21 Electricity meter LoRaWAN Bridge</h1>
<p><img alt="Lobaro EDL21 LoRaWAN Bridge" src="files/edl21_small.jpg" style="width:45%; vertical-align: top;" /></p>
<p>The EDL21 over LoRaWAN bridge is a device that can be used to readout modern utility meters with standardized infrared "INFO" interface. </p>
<p>These type of meters are called in Germany to be "EDL21"-compatible - hence the name.
The meter outputs over its infrared "INFO" interface a serial protocol conforming to the <a href="https://de.wikipedia.org/wiki/Smart_Message_Language">Smart Meter Language Protocol 1.04</a> (SML). This interface
is intended to be used by end-users and <strong>not</strong> for billing purposes of the electricity supplier.
The read information normally contains the current consumption values of the meter and gets interpreted and forwarded by the EDL21 bridge via a LoRaWAN network to web based applications 
interested in further processing this data.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Older meters with "infrared pulse" output are <strong>not</strong> compatible to the Lobaro EDL21 bridge. Please check our list of <a href="#compatible-utility-meters">compatible meters</a> to make sure it is equipped with
the correct interface.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Consider using the latest firmware on your hardware</p>
<ul>
<li><a href="firmware.html" target="_blank"><strong>See available firmware downloads</strong></a></li>
</ul>
</div>
<h2 id="top-features">Top Features</h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> LoRaWAN 1.0.x and 1.1 network servers supported</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> LoRaWAN Class A or Class C operation</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> LoRaWAN 1.1 time synchronisation</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Configuration via USB or remotely via LoRaWAN downlink</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Compatible with many electrical utility meters</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> RGB Status LED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Variants with external power-supply and D-cell batteries available on request</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Separation of infrared readout head and LoRaWAN antenna possible</li>
</ul>
<h2 id="compatible-utility-meters">Compatible utility meters</h2>
<table>
<thead>
<tr>
<th align="left">Electricity meter</th>
<th align="left">Manufacturer</th>
<th align="left">More information</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">DTZ541-ZEBA</td>
<td align="left">Holley</td>
<td align="left"><a href="https://www.holleytech.de/holleytech/produkte/moderne-messeinrichtung-mme/drehstromzaehler-dtz541/" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">LK13 series</td>
<td align="left">Logarex</td>
<td align="left"><a href="http://www.logarex.cz/en/products" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">OpenWay® 3.HZ</td>
<td align="left">iTron</td>
<td align="left"><a href="https://www.itron.com/de/solutions/product-catalog/openway-3hz" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">SGM-C4 series</td>
<td align="left">efr</td>
<td align="left"><a href="https://www.efr.de/?id=17#/SGM-C4-Kompaktzaehler" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">SGM-D series</td>
<td align="left">efr</td>
<td align="left"><a href="https://www.efr.de/?id=17#/FNN-Basiszaehler" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">eHZ-K series</td>
<td align="left">EMH</td>
<td align="left"><a href="https://www.emh-metering.de/produkte/smart-meter/ehz-k" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">mMe4.0 series</td>
<td align="left">EMH</td>
<td align="left"><a href="https://www.emh-metering.de/produkte/smart-meter/mme4-0" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">ED300 series</td>
<td align="left">EMH</td>
<td align="left"><a href="https://www.emh-metering.de/produkte/smart-meter/ed300l" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">eBZD series</td>
<td align="left">EMH</td>
<td align="left"><a href="https://www.emh-metering.de/produkte/smart-meter/ebzd-g" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">ITZ series</td>
<td align="left">EMH</td>
<td align="left"><a href="https://www.emh-metering.de/produkte/smart-meter/itz" target="_blank">External Link</a></td>
</tr>
<tr>
<td align="left">E320</td>
<td align="left">Landis+Gyr</td>
<td align="left"><a href="https://www.landisgyr.de/product/landisgyr-e320/" target="_blank">External Link</a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Alternative IEC 62056-21 protocol</p>
</div>
<p>On request we offer also the integration of electricity meters using the D0 interface conforming to <strong>IEC 62056-21</strong>. This interface is not compatible to the SML protocol.
Please contact us if you need an offer for a custom firmware supporting your meter of interest.</p>
<h2 id="product-variants">Product variants</h2>
<p><code>EDL21-LoRaWAN Bridge (universal head, AA, int. Ant.), Order number: 8000057</code> <br>
<img alt="Lobaro EDL21 LoRaWAN Bridge" src="files/Lastenheft-EDL21-LoRaWAN-bridge.jpg" style="width:100%;" /></p>
<div class="admonition note">
<p class="admonition-title">Customization Options</p>
<p>The product variant shown above is the <em>standard</em> variant in our compact housing and powered by two AA batteries.</p>
<p><a href="../../hardware.html" target="_blank"><strong>Other power supply options &amp; housing are available on request</strong></a></p>
<ul>
<li>External antenna</li>
<li>D-cell batteries</li>
<li>External power-supply</li>
<li>NB-IoT instead of LoRaWAN</li>
<li>Different infrared data formats other than SML</li>
</ul>
<p>Contact us via <a href="mailto:support@lobaro.de">support@lobaro.de</a> if you need our offer for a special variant.</p>
</div>
<h2 id="quickstart">Quickstart</h2>
<ol>
<li>Connect to the device with the <a href="https://www.lobaro.com/lobaro-maintenance-tool/">Lobaro Tool</a> using the <a href="https://www.lobaro-shop.com/product_info.php?info=p7_lobaro-usb-konfigurations-adapter.html">Lobaro Config Adapter</a> </li>
<li>Under Configuration click "Reload Config" and change the fields ReadCron and ObisCode as you need followed by clicking on "Write to Device" <a href="files/edl21_config_tool.jpg">click here for a configuration example</a></li>
<li>Register the device in your LoRaWAN network</li>
<li>Insert 2 batteries ('AA' size, 1.5V) / Connect external powersupply</li>
<li>If not connected to anything the red LED will start blinking as long as no data is received, after 1 minute it will sleep for 15 seconds after every 5 retries</li>
<li>Tighten the screws and install the bridge beside your electric meter</li>
<li>Place the EDL21 opto head on the "Info" interface</li>
<li>As soon as the EDL21 receives data its green LED will light up for 5 seconds, when connected to a LoRa Network its blue LED will light up for 5 seconds</li>
<li>Check the sent data (port 3), if payload is zero the EDL21 was not able to read data, recheck proper alignment</li>
</ol>
<h2 id="configuration">Configuration</h2>
<p>The configuration is done using <a href="/tools/lobaro-tool/">Lobaro Maintenance Tool</a> and the Lobaro USB PC adapter.</p>
<h3 id="lorawan">LoRaWAN</h3>
<p>The connection to the LoRaWAN network is defined by multiple configuration parameters.
This need to be set according to your LoRaWAN network and the way your device is 
supposed to be attached to it, or the device will not be able to send any data.</p>
<p>For a detailed introduction into how this values need to be configured, please 
refer to the chapter <a href="/background/lorawan.html#lorawan-configuration">LoRaWAN configuration</a> 
in our LoRaWAN background article.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OTAA</code></td>
<td>Activation: OTAA or ABP</td>
<td><code>bool</code></td>
<td><code>true</code>= use OTAA, <code>false</code>= use ABP</td>
</tr>
<tr>
<td><code>DevEUI</code></td>
<td>DevEUI used to identify the Device</td>
<td><code>byte[8]</code></td>
<td>e.g. <code>0123456789abcdef</code></td>
</tr>
<tr>
<td><code>JoinEUI</code></td>
<td>Used for OTAA (called AppEUI in v1.0)</td>
<td><code>byte[8]</code></td>
<td>e.g. <code>0123456789abcdef</code></td>
</tr>
<tr>
<td><code>AppKey</code></td>
<td>Key used for OTAA (v1.0 and v1.1)</td>
<td><code>byte[16]</code></td>
<td></td>
</tr>
<tr>
<td><code>NwkKey</code></td>
<td>Key used for OTAA (v1.1 only)</td>
<td><code>byte[16]</code></td>
<td></td>
</tr>
<tr>
<td><code>SF</code></td>
<td>Initial / maximum Spreading Factor</td>
<td><code>int</code></td>
<td><code>7</code> - <code>12</code></td>
</tr>
<tr>
<td><code>ADR</code></td>
<td>Use Adaptive Data Rate</td>
<td><code>bool</code></td>
<td><code>true</code>= use ADR, <code>false</code>= don't</td>
</tr>
<tr>
<td><code>OpMode</code></td>
<td>Operation Mode</td>
<td><code>string</code></td>
<td><code>A</code>= Class A, <code>C</code>= Class C</td>
</tr>
<tr>
<td><code>TimeSync</code></td>
<td>Days after which to sync time</td>
<td><code>int</code></td>
<td>days, <code>0</code>=don't sync time</td>
</tr>
<tr>
<td><code>RndDelay</code></td>
<td>Random delay before sending</td>
<td><code>int</code></td>
<td>max seconds</td>
</tr>
<tr>
<td><code>RemoteConf</code></td>
<td>Not supported by this firmware</td>
<td><code>bool</code></td>
<td><code>false</code>=deactivate</td>
</tr>
<tr>
<td><code>LostReboot</code></td>
<td>Days without downlink before reboot</td>
<td><code>int</code></td>
<td>days, <code>0</code>=don't reboot</td>
</tr>
</tbody>
</table>
<h3 id="operation">Operation</h3>
<p>Configuration values defining the behaviour of the device. </p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
<th>example value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ReadCron</code></td>
<td>Cron expression defining when to read</td>
<td><code>0 0/15 * * * *</code> for every 15 minutes</td>
</tr>
<tr>
<td><code>ObisCode</code></td>
<td>Comma separated list of ObisCodes to select a subset of the available information</td>
<td><code>1-0:1.7.255*255</code> = Leistung (Momentan)</td>
</tr>
</tbody>
</table>
<p>See also our <a href="/background/cron-expressions">Introduction to Cron expressions</a> and our <a href="/background/obis-codes">Introduction to Obis Codes</a>.</p>
<h2 id="led-blinking-patterns">LED blinking patterns</h2>
<p>The following pattery are explained in the order in which they appear after initial power on / reset of the device.</p>
<table>
<thead>
<tr>
<th>color</th>
<th>duration</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>red/green/blue</code></td>
<td>300ms each</td>
<td>initial pattern after reset</td>
</tr>
<tr>
<td><code>red/green</code></td>
<td>1s</td>
<td>NEW in 0.3.2: single readout success/failure before OTAA join</td>
</tr>
<tr>
<td><code>red</code></td>
<td>short, blinking</td>
<td>trying to receive meter optical data for the first time after OTAA join</td>
</tr>
<tr>
<td><code>green</code></td>
<td>5 seconds</td>
<td>successfully received meter optical data</td>
</tr>
<tr>
<td><code>blue</code></td>
<td>5 seconds</td>
<td>LoRaWAN network join</td>
</tr>
<tr>
<td><code>blue</code></td>
<td>short</td>
<td>sending LoRaWAN data uplink</td>
</tr>
<tr>
<td><code>off</code></td>
<td>-</td>
<td>low-power mode until next sendout cycle</td>
</tr>
</tbody>
</table>
<p>As you can see by this the device will start the LoRaWAN join only after receiving optical data at least once.</p>
<h2 id="appendices">Appendices</h2>
<h3 id="technical-characteristics">Technical characteristics</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Product</strong></td>
<td></td>
</tr>
<tr>
<td>Type name</td>
<td>EDL21-LoRaWAN</td>
</tr>
<tr>
<td>Description</td>
<td>Electricity meter over LoRaWAN Bridge</td>
</tr>
<tr>
<td><strong>RF tranceiver</strong></td>
<td></td>
</tr>
<tr>
<td>Type</td>
<td>Semtech SX1272</td>
</tr>
<tr>
<td>Frequency</td>
<td>863 MHz to 870 MHz</td>
</tr>
<tr>
<td>Max. TX Power</td>
<td>max. +14 dBm</td>
</tr>
<tr>
<td>Typical RF Range</td>
<td>&le;2km</td>
</tr>
<tr>
<td>Ideal RF Range</td>
<td>&le;10km (free line of sight)</td>
</tr>
<tr>
<td><strong>LoRa communication</strong></td>
<td></td>
</tr>
<tr>
<td>Protocol</td>
<td>Class A LoRaWAN 1.0.1 EU868</td>
</tr>
<tr>
<td>Activation method</td>
<td>Over-the-air-activation (OTAA) <br> Activation by personalization (ABP)</td>
</tr>
<tr>
<td>Encryption</td>
<td>AES128</td>
</tr>
<tr>
<td><strong>Environmental Requirements</strong></td>
<td></td>
</tr>
<tr>
<td>Operating temperature</td>
<td>-20°C &ndash; 55°C</td>
</tr>
<tr>
<td>Max installation height</td>
<td>2m</td>
</tr>
<tr>
<td><strong>Standards</strong> <br> <img title="CE" alt="CE logo" src="/img/symbol-ce.svg" style="height:60px;"> <img title="weee" title="weee logo" src="/img/symbol-weee.svg" style="height:60px;"></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="disposal-weee-entsorgung">Disposal / WEEE / Entsorgung</h3>
<p><a href="/background/weee-disposal">Information about the disposal of the Device</a>.</p>
<h2 id="payload-format-status-packet-port-1">Payload Format Status Packet (Port 1)</h2>
<p>Once per day a status packet will be sent. It contains basic information about the device.
The Battery Voltage is transmitted in 1/1000 V and the temperature in 1/10 °C. Both are in Big Endian byte order. </p>
<table>
<thead>
<tr>
<th>Version Major</th>
<th>Version Minor</th>
<th>Version Patch</th>
<th>Flags</th>
<th>Battery Voltage</th>
<th>Temperature</th>
</tr>
</thead>
<tbody>
<tr>
<td>1 byte</td>
<td>1 byte</td>
<td>1 byte</td>
<td>1 byte</td>
<td>2 byte</td>
<td>2byte</td>
</tr>
<tr>
<td>unsigned</td>
<td>unsigned</td>
<td>unsigned</td>
<td>unsigned</td>
<td>unsigned</td>
<td>signed</td>
</tr>
</tbody>
</table>
<h2 id="payload-format-old-port-2-without-exponent">Payload Format (old, Port 2, without exponent)</h2>
<p>The payload consists of multiple entries, one entry per OBIS code given in the configuration.
Each entry follows the following structure:</p>
<table>
<thead>
<tr>
<th>OBISCode (hex)</th>
<th>lenght of value (n)</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>6 bytes</td>
<td>1 byte</td>
<td>n bytes, LSB first</td>
</tr>
</tbody>
</table>
<p>Example packet: <code>01 00 01 08 00 FE 08 FF 01 00 00 00 00 00 00 01 00 01 08 00 FE 08 FF 02 00 00 00 00 00 00</code></p>
<p>Entry 1: </p>
<table>
<thead>
<tr>
<th>OBISCode (hex)</th>
<th>lenght of value (n)</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>01 00 01 08 00 FE</td>
<td>08</td>
<td>FF 01 00 00 00 00 00 00</td>
</tr>
<tr>
<td>1-0:1.8.0*254</td>
<td>8</td>
<td>511</td>
</tr>
</tbody>
</table>
<p>Entry 2: </p>
<table>
<thead>
<tr>
<th>OBISCode (hex)</th>
<th>lenght of value (n)</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>01 00 01 08 00 FE</td>
<td>08</td>
<td>FF 01 00 00 00 00 00 00</td>
</tr>
<tr>
<td>1-0:1.8.0*254</td>
<td>8</td>
<td>767</td>
</tr>
</tbody>
</table>
<h2 id="payload-format-new-port-3-with-exponent">Payload Format (new, Port 3, with exponent)</h2>
<p>The payload consists of multiple entries, one entry per OBIS code given in the configuration.
Each entry follows the following structure:</p>
<table>
<thead>
<tr>
<th>OBISCode (hex)</th>
<th>lenght of value (n)</th>
<th>value</th>
<th>exponent</th>
</tr>
</thead>
<tbody>
<tr>
<td>6 bytes</td>
<td>1 byte</td>
<td>n bytes, LSB first</td>
<td>1 byte (signed)</td>
</tr>
</tbody>
</table>
<p>Example packet: 01 00 01 08 00 FE 08 FF 01 00 00 00 00 00 00 ff 01 00 01 08 00 FE 08 FF 02 00 00 00 00 00 00 02</p>
<p>Entry 1: </p>
<table>
<thead>
<tr>
<th>OBISCode (hex)</th>
<th>lenght of value (n)</th>
<th>value</th>
<th>exponent</th>
</tr>
</thead>
<tbody>
<tr>
<td>01 00 01 08 00 FE</td>
<td>08</td>
<td>FF 01 00 00 00 00 00 00</td>
<td>ff</td>
</tr>
<tr>
<td>1-0:1.8.0*254</td>
<td>8</td>
<td>511</td>
<td>-1</td>
</tr>
<tr>
<td>Value = 511 * 10^-1 = 51.1</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Entry 2: </p>
<table>
<thead>
<tr>
<th>OBISCode (hex)</th>
<th>lenght of value (n)</th>
<th>value</th>
<th>exponent</th>
</tr>
</thead>
<tbody>
<tr>
<td>01 00 01 08 00 FE</td>
<td>08</td>
<td>FF 02 00 00 00 00 00 00</td>
<td>02</td>
</tr>
<tr>
<td>1-0:1.8.0*254</td>
<td>8</td>
<td>767</td>
<td>2</td>
</tr>
<tr>
<td>Value = 767 * 10^2 = 76700</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="reference-decoder">Reference decoder</h2>
<p>This is a decoder written in JavaScript that can be used to parse the device's 
LoRaWAN messages. It can be used as is in 
<a href="https://thethingsnetwork.org">The Things Network</a>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">readName</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">6</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">readValue</span><span class="p">(</span><span class="nx">len</span><span class="p">,</span> <span class="nx">bytes</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="nx">len</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">toHexString</span><span class="p">(</span><span class="nx">byteArray</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="nx">byteArray</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="kr">byte</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">s</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;0&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="kr">byte</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">)).</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">parse_int8</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">((</span><span class="nx">t</span> <span class="o">&amp;</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// temp is negative (16bit 2&#39;s complement)</span>
        <span class="nx">t</span> <span class="o">=</span> <span class="p">((</span><span class="o">~</span><span class="nx">t</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// invert 16bits &amp; add 1 =&gt; now positive value</span>
        <span class="nx">t</span> <span class="o">=</span> <span class="nx">t</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">t</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">parse_int16</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="nx">t</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">15</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span> <span class="c1">// temp is negative (16bit 2&#39;s complement)</span>
        <span class="nx">t</span> <span class="o">=</span> <span class="p">((</span><span class="o">~</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// invert 16bits &amp; add 1 =&gt; now positive value</span>
        <span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">*-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">t</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">parse_uint16</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">idx</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">t</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">toNumber</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">res</span> <span class="o">|=</span> <span class="nx">bytes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="nx">s</span><span class="p">;</span>
        <span class="nx">s</span> <span class="o">+=</span> <span class="mi">8</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">readVersion</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="s2">&quot;v&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">decodeStatus</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">decoded</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;version&quot;</span><span class="o">:</span><span class="nx">readVersion</span><span class="p">(</span><span class="nx">bytes</span><span class="p">),</span>
        <span class="s2">&quot;flags&quot;</span><span class="o">:</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="s2">&quot;vBat&quot;</span><span class="o">:</span> <span class="nx">parse_uint16</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s2">&quot;temp&quot;</span><span class="o">:</span> <span class="nx">parse_int16</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">,</span>
    <span class="p">};</span>


    <span class="k">return</span> <span class="nx">decoded</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">decodeSmlValuesV1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">decoded</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">values</span><span class="o">:</span> <span class="p">[],</span>
    <span class="p">};</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// No Data! Read error?</span>
        <span class="k">return</span> <span class="nx">decoded</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">&lt;</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">readName</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">pos</span><span class="p">);</span>
        <span class="nx">pos</span> <span class="o">+=</span> <span class="mi">6</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="nx">pos</span><span class="p">];</span>
        <span class="nx">pos</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">readValue</span><span class="p">(</span><span class="nx">len</span><span class="p">,</span> <span class="nx">bytes</span><span class="p">,</span> <span class="nx">pos</span><span class="p">);</span>
        <span class="nx">pos</span> <span class="o">+=</span> <span class="nx">len</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">nameHex</span><span class="o">:</span> <span class="nx">toHexString</span><span class="p">(</span><span class="nx">name</span><span class="p">),</span>
            <span class="nx">len</span><span class="o">:</span> <span class="nx">len</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="nx">toNumber</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span>
            <span class="nx">valueHex</span><span class="o">:</span> <span class="nx">toHexString</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="nx">decoded</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">decoded</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">decodeSmlValuesV2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">decoded</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">values</span><span class="o">:</span> <span class="p">[],</span>
    <span class="p">};</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// No Data! Read error?</span>
        <span class="k">return</span> <span class="nx">decoded</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">&lt;</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">readName</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">pos</span><span class="p">);</span>
        <span class="nx">pos</span> <span class="o">+=</span> <span class="mi">6</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">bytes</span><span class="p">[</span><span class="nx">pos</span><span class="p">];</span>
        <span class="nx">pos</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">readValue</span><span class="p">(</span><span class="nx">len</span><span class="p">,</span> <span class="nx">bytes</span><span class="p">,</span> <span class="nx">pos</span><span class="p">);</span>
        <span class="nx">pos</span> <span class="o">+=</span> <span class="nx">len</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">exponent</span> <span class="o">=</span> <span class="nx">parse_int8</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">pos</span><span class="p">);</span>
            <span class="nx">pos</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">nameHex</span><span class="o">:</span> <span class="nx">toHexString</span><span class="p">(</span><span class="nx">name</span><span class="p">),</span>
                <span class="nx">len</span><span class="o">:</span> <span class="nx">len</span><span class="p">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">toNumber</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">exponent</span><span class="p">),</span>
                <span class="nx">valueHex</span><span class="o">:</span> <span class="nx">toHexString</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">nameHex</span><span class="o">:</span> <span class="nx">toHexString</span><span class="p">(</span><span class="nx">name</span><span class="p">),</span>
                <span class="nx">len</span><span class="o">:</span> <span class="nx">len</span><span class="p">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">toNumber</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span>
                <span class="nx">valueHex</span><span class="o">:</span> <span class="nx">toHexString</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="nx">decoded</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">decoded</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Decoder</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Decode an uplink message from a buffer</span>
    <span class="c1">// (array) of bytes to an object of fields.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">port</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">decodeStatus</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">port</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">decodeSmlValuesV1</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">port</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">decodeSmlValuesV2</span><span class="p">(</span><span class="nx">bytes</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Wrapper for niota.io</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">payload</span><span class="p">,</span> <span class="nx">meta</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="nx">meta</span><span class="p">.</span><span class="nx">lora</span><span class="p">.</span><span class="nx">fport</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">buf</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">payload</span><span class="p">,</span> <span class="s1">&#39;hex&#39;</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">Decoder</span><span class="p">(</span><span class="nx">buf</span><span class="p">,</span> <span class="nx">port</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="example-parser-result">Example parser result</h3>
<p>Test input (Port 3): 01 00 01 08 00 FE 08 FF 01 00 00 00 00 00 00 FF </p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;len&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
      <span class="nt">&quot;nameHex&quot;</span><span class="p">:</span> <span class="s2">&quot;0100010800fe&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mf">51.1</span><span class="p">,</span>
      <span class="nt">&quot;valueHex&quot;</span><span class="p">:</span> <span class="s2">&quot;ff01000000000000&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="ce-declaration-of-conformity">CE Declaration of Conformity</h2>
<p><a href="files/ce-edl21-lorawan.pdf">CE Declaration of Conformity</a> (pdf).</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../modbus-lorawan/versions.html" title="Versions" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Versions
              </div>
            </div>
          </a>
        
        
          <a href="firmware.html" title="Firmware & Changelog" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Firmware & Changelog
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Lobaro GmbH
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.a45f732b.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.c03f0417.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/mermaid.min.js"></script>
      
        <script src="../../js/simple-lightbox.js"></script>
      
    
  </body>
</html>